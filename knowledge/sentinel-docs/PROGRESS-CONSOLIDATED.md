# Consolidated progress (plugin-vince, plugin-kelly, frontend)

Generated by scripts/sync-sentinel-docs.sh. Source files:
- src/plugins/plugin-vince/progress.txt
- src/plugins/plugin-kelly/progress.txt
- src/frontend/progress.txt

---

## plugin-vince/progress.txt

# VINCE Plugin Progress Tracker
# Last updated: 2026-02-09 (X research ALOHA-style conclusion)
# Update this file after every feature completion or session end.
# Note: Kelly no longer uses plugin-vince; she uses plugin-kelly and KELLY_DAILY_BRIEFING.

================================================================================
COMPLETED
================================================================================

## V4.35 - X research ALOHA-style conclusion (2026-02-09) âœ…
- **Goal:** Make "What are people saying about BTC?" (and other X research search queries) read like ALOHA: one narrative block in VINCE's voice, then sample posts â€” no dry "Conclusion:" label or 2â€“4 sentence summary.
- **Model:** X research search path now uses **TEXT_LARGE** (was TEXT_SMALL) for the LLM conclusion so the prose can be 150â€“250 words, friend-over-coffee style.
- **Prompt:** Full ALOHA-style prompt in getLLMConclusion: persona ("You are VINCEâ€¦ texting a friend who cares about the space"), coverage (vibe â†’ themes â†’ standout/viral â†’ takeaway), STYLE RULES (vary sentence length, no bullets/headers, take positions), and AVOID list (Interestingly, notably, generic filler). Context line: query, sample size, and "Numbers in parentheses are likes and retweets (L R)".
- **Tweet sample for LLM:** tweetSampleForLLM now appends (L R) per tweet so the model can reference traction (e.g. "the post that blew up wasâ€¦").
- **Reply format:** When conclusion is present: **X research: Q** â†’ blank line â†’ narrative only (no "Conclusion:" prefix) â†’ --- â†’ **Sample posts:** (5 items) â†’ footer. Fallback when LLM fails: full list as before.
- **Files:** xResearch.action.ts (tweetSampleForLLM, getLLMConclusion, handler reply build). Examples updated for narrative-first format.

## V4.34 - X All-In: Alpha, Insights, and Sentiment (2026-02-09) âœ…
- **Phase 1 â€“ XDK alignment:** VinceXResearchService now uses official @xdevplatform/xdk API when installed: client.posts.searchRecent, client.posts.getByIds, client.users.getByUsernames. Response shapes mapped to existing parseTweets() so XTweet[] and cache behavior unchanged. Raw fetch fallback when XDK missing. 429 handling and shared cooldown unchanged.
- **Phase 2 â€“ List feed:** X_LIST_ID (env, default example 2016259263073771659). xResearch: getListById(), getListPosts(), getListMembers() with XDK + fetch fallback; same rate-limit and 15-min cache (vince_x_research:list_posts:${id}). VinceXSentimentService.getListSentiment(): same keyword/phrase/risk scoring as per-asset; 15-min in-memory cache; gated by X_SENTIMENT_LIST_ENABLED (default on when list set). List sentiment exposed in **CT Vibe** ("List (curated): â€¦") and **leaderboard** News section (X vibe card "List (curated)" row). Not in aggregator; additional alpha/vibe only.
- **Phase 3 â€“ Quota and docs:** SIGNAL_SOURCES.md documents list feed, cache TTL, where list is used. .env.example: X_LIST_ID, X_SENTIMENT_STAGGER_INTERVAL_MS (1h = full cycle every 4h for 4 assets), X_SENTIMENT_LIST_ENABLED, optional X_BEARER_TOKEN_SENTIMENT (second token; doc-only for now). docs/X-API.md: X API tiers (Basic vs Pro), quota usage, optional second token.
- **Phase 4 â€“ Tuning:** getSentimentAssets() in xSentiment: reads X_SENTIMENT_ASSETS (comma-separated); default CORE_ASSETS (BTC,ETH,SOL,HYPE). Stagger and refreshOneAsset use getSentimentAssets() so you can add more tickers when you have quota. .env.example and SIGNAL_SOURCES.md document X_SENTIMENT_ASSETS and list toggles.
- **Files:** xResearch.service.ts (XDK + list API), xSentiment.service.ts (getListSentiment, getSentimentAssets), ctVibe.action.ts (list line), dashboardLeaderboards.ts + leaderboard page (list row), leaderboardsApi.ts (listSentiment type), SIGNAL_SOURCES.md, .env.example, docs/X-API.md.

## V4.33 - Kelly agent + plugin-kelly (2026-02-07) âœ…
- **Kelly agent:** Dedicated lifestyle-only concierge agent (five-star hotels, fine dining, wine, health, fitness). No trading actions; uses plugin-kelly instead of plugin-vince so her action list is clean (REPLY + KELLY_DAILY_BRIEFING).
- **plugin-kelly:** New plugin at src/plugins/plugin-kelly/: KellyLifestyleService (KELLY_LIFESTYLE_SERVICE), types (DayOfWeek, LifestyleSuggestion, DailyBriefing, CuratedOpenContext), no trading logic (activity suggestions only; no Friday strike/options wording).
- **Scheduled task:** KELLY_LIFESTYLE_DAILY runs only for Kelly; pushes concierge-only daily briefing to channels whose name contains "kelly" or "lifestyle". Uses same curated-open-schedule knowledge; footer: "Ask me for hotels, dining, wine, health, fitness, or daily suggestions." Config: KELLY_LIFESTYLE_DAILY_ENABLED, KELLY_LIFESTYLE_HOUR=8 (UTC).
- **Single lifestyle channel:** To avoid duplicate posts, set VINCE_LIFESTYLE_DAILY_ENABLED=false when using Kelly for the lifestyle channel. Documented in .env.example and README push schedule.
- **Docs:** README.md introduces Kelly (TL;DR, Quick Links, Features, Configuration, Push schedule, Documentation). progress.txt (this entry).

## V4.32 - Discord + push unlock (2026-02-06) âœ…
- **Both bots in one server:** VINCE and Eliza can run in the same Discord server at the same time. Each agent uses its own Discord app (VINCE_DISCORD_* vs ELIZA_DISCORD_*). No separate "enabled" flag: set VINCE_DISCORD_APPLICATION_ID + VINCE_DISCORD_API_TOKEN to enable VINCE's Discord; removed VINCE_DISCORD_ENABLED everywhere.
- **Eliza loads Discord from agent:** Eliza's agent now includes @elizaos/plugin-discord when ELIZA_DISCORD_* or DISCORD_* is set (so both runtimes get their own send handler). Optional DELAY_SECOND_DISCORD_MS=3000 staggers the second bot so both connect in one process.
- **Push schedule = core objective:** Daily report (18 UTC), lifestyle (8 UTC), and news (7 UTC) are explicitly enabled in .env. Channels: name must contain "daily" | "lifestyle" | "news" (e.g. #vince-daily-reports, #vince-lifestyle, #vince-news). VINCE's job is push, not chat or upload (Eliza does research/upload).
- **Docs:** DISCORD.md (enable both bots, no VINCE_DISCORD_ENABLED), README.md Configuration (push schedule), NOTIFICATIONS.md, .env.example (VINCE_* only). TOP PRIORITY "Send handler not found" resolved via two-app setup + source normalization + optional stagger.

## V4.31 - Fee-aware PnL (net of costs) (2026-02-06) âœ…
- **Competitor lesson (Gunbot):** PnL and improvement report are now **after trading fees** so "positive expectancy" is net of costs.
- **Position manager:** On close, gross PnL minus round-trip fee (FEES.ROUND_TRIP_BPS = 5 bps of notional, Hyperliquid-like). Position.realizedPnl and realizedPnlPct are net; position.feesUsd stores fee for logs/feature store. Portfolio balance and win/loss counts use net PnL.
- **Feature store:** outcome.realizedPnl and realizedPnlPct are net; optional outcome.feesUsd. Labels (profitable, winAmount, lossAmount, rMultiple) derived from net PnL. Training and improvement report are fee-aware.
- **Logs:** Position manager log and paper trading "PAPER TRADE CLOSED" one-liner show "Net P&L" and "fees -$X"; closed banner shows "Net P&L" and "Fees -$X".
- **Constants:** paperTradingDefaults.ts FEES.ROUND_TRIP_BPS = 5 (2 Ã— TAKER_BPS). See FEATURE-STORE.md â€” "Fee-aware PnL".

## Competitor landscape & lessons (2026-02-06) âœ…
- **Context:** Passivbot, Gunbot, 3Commas, Coinrule, Pionex, Cornix, Mizar, Kraken AI, Axiom, Uniswap ecosystem (Hummingbot, Freqtrade) all offer trading bots or automation; most are manual-tuned or signal-following without a self-improving ML loop.
- **What we do differently:** (1) Self-improving ML loop in production (feature store â†’ train_models.py â†’ ONNX â†’ improvement report â†’ tuner/bandit/similarity) so the bot improves as it trades. (2) "WHY THIS TRADE" explainability (supporting/conflicting factors, strength/confidence) in logs and feature store. (3) 15+ signal sources (CoinGlass, Binance, Deribit, Hyperliquid OI/funding, news, regime, etc.) vs single-signal or TradingView focus. (4) Paper-first, free, open; no subscription.
- **High-value lessons we're adopting:** (1) Walk-forward optimization (Passivbot/3Commas) â€” add to training pipeline to reduce overfitting. (2) Fee-aware PnL (Gunbot) â€” include maker/taker/funding in PnL and improvement report so "positive expectancy" is after costs. (3) Dashboard for WHY + PnL (3Commas) â€” simple Streamlit/Flask for "WHY THIS TRADE" + PnL + SHAP/feature importance. (4) Backtesting as first-class step (Passivbot/3Commas) â€” replay historical features/signals to support "backtested + walk-forward" narrative.
- **Medium / later:** Grid mode for chop (Passivbot), no-code rule layer (Coinrule), multi-exchange (after HL paper/real-money solid). Not copying: exchange-locked bots, scale-first playbooks; we focus on proving alpha in paper then optional real-money.
- **Integrated in:** progress.txt (this section), repo README.md (Differentiation & competitor lessons), plugin-vince README.md (Differentiation).

## V4.30 - Avoided decisions + more training data (2026-02-06) âœ…
- **Avoided decisions in feature store:** When the paper bot evaluates a signal but does not trade (e.g. "SIGNAL EVALUATED - NO TRADE" due to similarity AVOID, ML quality below threshold, strength/confidence below bar, book rejection, or risk-manager threshold), we now record the same feature snapshot (market, session, signal, regime, news) with `avoided: { reason, timestamp }` instead of execution/outcome. ML keeps learning on extreme or quiet days when no trades are taken.
- **Feature store:** `FeatureRecord.avoided` optional field; `recordAvoidedDecision(asset, signal, reason)` in vinceFeatureStore.service.ts. Records written to JSONL/PGLite/Supabase like executed trades; training script continues to use only records with outcome+labels (closed trades); avoided records available for future avoid-classifier or counterfactual analysis.
- **Paper trading:** On every NO TRADE path we call `recordAvoidedDecisionIfNeeded(asset, signal, reason)` (rate-limited once per asset per 2 min). Wired for ML quality, report suggestion (strength/confidence), similarity AVOID, book rejection, and risk-manager validation.
- **Docs:** FEATURE-STORE.md â€” new sections "Avoided decisions (no-trade evaluations)" and "Collecting more training data" (aggressive mode, single-asset, synthetic bootstrap, optional data-collection mode, max-age, monitoring). Scripts README: training input/output note that avoided records are skipped for current models but kept in store.
- **Startup log:** Paper trading service logs `aggressive=true|false, assets=BTC|...` on start so .env (VINCE_PAPER_AGGRESSIVE, VINCE_PAPER_ASSETS) is visible at runtime.
- **Recommended for more data:** VINCE_PAPER_AGGRESSIVE=true and VINCE_PAPER_ASSETS=BTC (or BTC,ETH) until 90+ closed trades; see FEATURE-STORE.md and .env.example.

## Core Architecture âœ…
- Plugin structure (index.ts) with 27 services, 20 actions, 2 providers, 1 evaluator
- Fallback service pattern (external plugins â†’ built-in API clients)
- ASCII dashboard on startup with live market prices
- Service source tracking (external vs fallback logging)

## Services - Data Sources (18 services) âœ…
- VinceCoinGlassService - L/S ratio, funding, OI, fear/greed
- VinceCoinGeckoService - Exchange health, liquidity, prices
- VinceMarketDataService - Enriched context (RSI, volatility, regime)
- VinceSignalAggregatorService - Weighted voting across 15+ sources
- VinceTopTradersService - Whale wallet tracking via Hyperliquid
- VinceNewsSentimentService - MandoMinutes sentiment (asset-specific, risk-aware, price-embedded, category-weighted)
- VinceDexScreenerService - Hot memes on SOLANA + BASE
- VinceMeteoraService - LP pool discovery for DCA strategy
- VinceNFTFloorService - Floor tracking for ~12 curated collections
- VinceLifestyleService - Daily suggestions based on day of week
- VinceDeribitService - Options IV, Greeks, strikes
- VinceNansenService - Smart money (100 credits)
- VinceSanbaseService - On-chain analytics (1K/mo)
- VinceBinanceService - Top traders, taker flow
- VinceBinanceLiquidationService - Liquidation data
- VinceMarketRegimeService - Trending/ranging/choppy detection
- VinceHIP3Service - Stocks, commodities, indices (34 assets)
- VinceWatchlistService - Early detection watchlist
- VinceNotificationService - Push to Discord/Slack/Telegram (alerts, paper trades, daily report)
- VinceAlertService - Price and signal alerts (pushes to channels when new alert)

## Services - Paper Trading Bot (5 services) âœ…
- VincePaperTradingService - Bot orchestration
- VincePositionManagerService - Position tracking
- VinceRiskManagerService - Circuit breakers, daily loss limits
- VinceTradeJournalService - Trade history
- VinceGoalTrackerService - $420/day, $10K/month KPIs

## Services - Self-Improving Architecture (2 services) âœ…
- VinceParameterTunerService - Bayesian parameter optimization
- VinceImprovementJournalService - Structured improvement suggestions

## Services - ML Enhancement Layer (4 services) âœ…
- VinceFeatureStoreService - 40+ features per trade (JSONL)
- VinceWeightBanditService - Thompson Sampling for signal weights
- VinceSignalSimilarityService - k-NN on embeddings
- VinceMLInferenceService - ONNX model inference

## Fallback Services (7 fallbacks) âœ…
- deribit.fallback.ts - Direct Deribit API client
- hyperliquid.fallback.ts - Direct Hyperliquid API client
- opensea.fallback.ts - OpenSea NFT floor fallback
- nansen.fallback.ts - Nansen API fallback
- xai.fallback.ts - XAI/Grok API fallback
- browser.fallback.ts - Browser automation fallback
- puppeteer.browser.ts - Puppeteer-based browser

## Actions - Focus Areas (11 actions) âœ…
- vinceGmAction - Morning briefing
- vinceAlohaAction - Evening summary
- vinceOptionsAction - Covered calls / secured puts
- vincePerpsAction - Long/short signals
- vinceMemesAction - Hot memes scanner
- vinceAirdropsAction - Airdrop tracking
- vinceLifestyleAction - Daily suggestions
- vinceNftFloorAction - NFT floor analysis
- vinceIntelAction - Combined intelligence
- vinceNewsAction - MandoMinutes news
- vinceHIP3Action - TradFi assets (gold, NVDA, SPX)

## Actions - Paper Trading Bot (4 actions) âœ…
- vinceBotStatusAction - Portfolio status
- vinceBotPauseAction - Pause/resume bot
- vinceWhyTradeAction - Explain trade decision
- vinceBotAction - Execute trade

## Actions - Utilities (5 actions) âœ…
- vinceUploadAction - Knowledge upload; URLs/YouTube via [Ikigai Labs summarize](https://github.com/IkigaiLabsETH/summarize) (bunx), saves to knowledge/<category>/ â€” keeps improving our knowledge base from any URL or video. Optional: VINCE_UPLOAD_EXTRACT_ONLY=true for extract-only (no LLM; saves cost).
- vinceGrokExpertAction - Daily pulse + research suggestions
- vinceMemeDeepDiveAction - Deep dive into specific meme
- vinceWatchlistAction - Manage watchlist
- vinceAlertsAction - Manage alerts

## Providers (2 providers) âœ…
- vinceContextProvider - Aggregated market context
- trenchKnowledgeProvider - RAG for meme trading knowledge

## Evaluators (1 evaluator) âœ…
- tradePerformanceEvaluator - Track signal source performance

## Tasks (1 task) âœ…
- grokExpert.tasks.ts - Daily Grok research task

## Tests âœ…
- Unit tests: actions (4 files), bullBearCase, standalone
- Integration tests: knowledge, hip3-verify, hyperliquid-verify
- E2E tests: realData, knowledgeQuality
- Test utilities: test-utils.ts, knowledge-utils.ts

## Documentation âœ…
- WHAT.md - Purpose and philosophy
- WHY.md - Framework decisions (ElizaOS vs ClawdBot)
- HOW.md - Development guide
- CLAUDE.md - AI operating manual
- START.md - Complete vibe coding manifesto
- README.md - Project overview
- IMPROVEMENT_WEIGHTS_AND_TUNING.md - Improvement report weights, Binance 451, threshold tunables
- BINANCE_DATA_IMPROVEMENTS.md - How to get better data from Binance free endpoints (percentile funding, L/S signal, multi-period, proxy)
- HYPERLIQUID_ENDPOINTS.md - Which HL info endpoints we use, algo impact (perpsAtOICap, fundingHistory, userFunding), suggested order
- progress.txt - This file

## Configuration âœ…
- dynamicConfig.ts - Tunable parameters
- paperTradingDefaults.ts - Bot defaults
- targetAssets.ts - BTC, ETH, SOL, HYPE + 34 HIP-3
- memes.constants.ts - 50+ tracked meme tokens

## Paper trading algo: data leverage + tests (current) âœ…
- We can claim the paper trading algo was improved by: (1) wiring more market data into live logic and feature store (order-book imbalance, price vs SMA20, funding 8h delta, DVOL); (2) book-imbalance filter (reject long when book favors sellers, short when favors buyers); (3) confidence boosts when trend/SMA20 and funding reversal align; (4) DVOL-based size cap; (5) unit tests for extended-snapshot logic (23 tests, 100% coverage). ML pipeline and train_models.py include these features; retrain + deploy to have models use them. We do not yet claim improved P&L or win rateâ€”that requires backtest or live results over time.

## Essential bug fix: Stale P&L / uPNL (2026-02-03) âœ…
- Bug: Paper bot reported positions as "underwater" with stale unrealized P&L (e.g. -$40) while the market had already moved (e.g. BTC short from $75,872 at $75K was actually profitable). Strategy and entry were correct; only the displayed P&L was wrong.
- Root cause: (1) Unrealized P&L is computed from mark price in VincePositionManager; mark price is updated every 30s by the paper loop via marketData.getEnrichedContext(asset) â†’ ctx.currentPrice. (2) currentPrice comes from CoinGecko (coingeckoService.getPrice). (3) getEnrichedContext() refreshed CoinGlass but never called coingeckoService.refreshData(), so it always read from cache. (4) CoinGecko cache was only refreshed at service init and in a few other paths; TTL was 5 minutes. Result: P&L could be up to 5 minutes stale during fast moves.
- Fixes applied: (1) marketData.service.ts: call coingeckoService.refreshData() before getPrice(asset) in getEnrichedContext() so the paper loop gets a chance to refresh. (2) coingecko.service.ts: reduce CACHE_TTL_MS from 5 min to 1 min so the 30s loop gets fresher prices without hammering the API. (3) vinceContext.provider.ts: when user asks for bot status/portfolio/uPNL, call paperTrading.refreshMarkPrices() before building context so the reply shows current P&L. (4) vincePaperTrading.service.ts: added public refreshMarkPrices() for on-demand refresh. (5) Trigger words for status refresh include "upnl" and "pnl".
- Doc: STALE_PNL_INVESTIGATION.md in plugin-vince root summarizes root cause and fixes.

## Knowledge ingestion playbook (summarize) âœ…
- UPLOAD in chat: "upload: <url>" or YouTube link â†’ summarize CLI (bunx) â†’ knowledge/<category>/.
- Batch: scripts/ingest-urls.ts â€” URLs from args or --file urls.txt; --extract (web URLs get --format md), --youtube, --slides/--slides-ocr, --length long|xl|xxl|medium|short; writes to knowledge/ with same category heuristics as UPLOAD.
- Extract-only: VINCE_UPLOAD_EXTRACT_ONLY=true makes UPLOAD use summarize --extract only (no LLM; cheaper); web URLs get --format md.
- YouTube slides: VINCE_UPLOAD_YOUTUBE_SLIDES=true (and VINCE_UPLOAD_YOUTUBE_SLIDES_OCR for OCR); or --slides/--slides-ocr in batch script. Slides written to knowledge/.slides/ (gitignored).
- Summary length: VINCE_UPLOAD_SUMMARY_LENGTH=long|xl|xxl|medium|short; or --length in batch script.
- Firecrawl: VINCE_UPLOAD_FIRECRAWL=auto|always for web URLs (FIRECRAWL_API_KEY); or --firecrawl in batch script.
- Language: VINCE_UPLOAD_LANG=<code> for --lang; or --lang in batch script.
- Timeout: Upload and batch pass --timeout to summarize CLI so it doesn't exit early.
- Local files: ingest-urls accepts local paths (PDF, audio, video, text) as well as URLs; --file can list mixed URLs and paths.
- UPLOAD robustness: runSummarizeCli retries once on non-zero exit; on failure the reply includes a short stderr snippet from summarize for debugging. Saved files from URL/YouTube get frontmatter ingestedWith: summarize (chat uploads: vince-upload).
- Batch script: --concurrency <n> (default 3) runs up to n jobs in parallel; at end the script lists failed inputs. Written files get ingestedWith: ingest-urls in frontmatter.
- Docs: scripts/README.md has "Knowledge ingestion playbook", ingest-urls usage, and a Troubleshooting subsection (API keys, timeout, too little content, rate limits). PDF/podcast URLs supported by summarize (same flow).

## UPLOAD / Discord: knowledge path when running in Docker or cloud (2026-02-06) âœ…
- Issue: User ran UPLOAD via Discord (Eliza); agent confirmed "Saved to macro-economy/why-tokens-cant-compound.md" but the file was not visible in the repo's knowledge/macro-economy/ folder.
- Cause: UPLOAD writes to process.cwd() + "knowledge/" (or plugin-knowledge-ingestion's base path). When the app runs in Docker, cwd is /app inside the containerâ€”writes go to the container filesystem, not the host repo. When running on Eliza Cloud or any remote host, writes go to that server's disk.
- Fix (local Docker): docker-compose.yaml now mounts ./knowledge:/app/knowledge:rw so the container's knowledge/ is the host repo's knowledge/. After `docker compose down` and `docker compose up -d`, new uploads appear in knowledge/<category>/ on the host.
- Caveat (Eliza Cloud / remote): If the agent runs on a remote server, uploads still save to that server's knowledge/ directory. To have files in the repo, run the agent locally (bun start from repo) when ingestion should write into this repo, or add a sync/export from the cloud instance.
- Doc: This note is in progress.txt; docker-compose volume is the single source of truth for local Docker knowledge persistence.

## Why knowledge is essential for VINCE
- **Data vs methodology:** Actions and services supply *current* data (prices, funding, OI, signals). The knowledge base supplies *how to think*â€”frameworks, methodologies, and strategic patterns. Without knowledge, VINCE would only echo numbers; with it, VINCE interprets data through proven lenses (e.g. funding â†’ strike distance, TVL red flags, meme lifecycle, options skew).
- **RAG in every turn:** trenchKnowledgeProvider pulls relevant knowledge into context so the LLM can reference methodologies when answering OPTIONS, PERPS, MEMES, LIFESTYLE, etc. That makes responses analytical instead of generic.
- **Single source of truth for â€œhowâ€:** Knowledge holds strike-selection frameworks, risk-assessment patterns, and domain-specific heuristics. Live APIs hold â€œwhat is happening now.â€ Keeping them separate (see knowledge/KNOWLEDGE-USAGE-GUIDELINES.md) avoids treating outdated numbers as current and keeps the agent focused on applying frameworks to live data.
- **Continuous improvement:** UPLOAD + summarize + batch ingest let the team (and the user) grow knowledge from URLs, YouTube, PDFs, and podcasts. Every ingested essay or video expands the frameworks VINCE can draw on, so the agent gets smarter as the knowledge/ folder grows.
- **Concrete â€œwithout vs withâ€:** Without knowledge: â€œBTC funding is 0.02%.â€ With knowledge: â€œFunding is 0.02%â€”knowledge says extreme positive funding often precedes mean reversion; combined with current L/S ratio, that suggests caution on new longs.â€ Same number, added interpretation. For OPTIONS, knowledge provides the HYPE wheel and strike-distance logic; for MEMES, lifecycle and TVL/MCap frameworks; for LIFESTYLE, the-good-life selection criteria. Thatâ€™s what turns a data dashboard into a reasoning teammate.
- **Differentiation:** A generic market API returns numbers. VINCE returns numbers *plus* methodology-backed interpretation because context includes both live data (vinceContextProvider) and curated frameworks (trenchKnowledgeProvider). The paper botâ€™s ML handles *when* and *how much*; knowledge helps the LLM explain *why* and *what to watch next* in plain language.

## TypeScript / type alignment (2026-02-03) âœ…
- Fixed 13 TS errors in vincePaperTrading.service.ts and related types. Position: added realizedPnlPct to paperTrading.ts; VincePositionManager.closePosition now sets position.realizedPnlPct when closing. recordExecution: call fixed to recordExecution(decisionId, position, additionalDetails) with valid TradeExecutionFeatures (entryAtrPct, streakMultiplier, positionSizePct); removed invalid fillPrice. recordOutcome: outcome object aligned with feature store (exitPrice, realizedPnl, realizedPnlPct, exitReason, holdingPeriodMs, etc.); use position.closedAt/openedAt for holdingPeriodMs; removed profitable/durationMs. VinceMarketRegimeService: added getCurrentRegime(asset?) returning { marketRegime, volatilityRegime? }; signalAggregator and paper trading use await getCurrentRegime(asset). AggregatedTradeSignal: added toAggregatedTradeSignal(signal) in paper trading to build full type (conflictingCount, signals, reasons, sourceBreakdown) from AggregatedSignal; all logSignalRejection calls use it instead of unsafe casts. Build completes cleanly.

## Improvement report weights + Binance 451 + thresholds (2026-02-04) âœ…
- Improvement report â†’ aggregator weights: improvementReportWeights.ts reads training_metadata.json (feature_importances.signal_quality), maps features to source names, logs top features/sources; when VINCE_APPLY_IMPROVEMENT_WEIGHTS=true, nudges dynamicConfig source weights (0.5â€“2.0) so weights stay data-driven after retrains. See IMPROVEMENT_WEIGHTS_AND_TUNING.md.
- Script: scripts/run-improvement-weights.ts (bun run improvement-weights from plugin-vince) for dry-run or apply. Unit test: src/__tests__/improvementReportWeights.test.ts.
- Binance 451: consecutive 451s tracked in binance.service.ts; after 3, isDegraded() true and signal aggregator skips Binance (graceful degradation). Recovery on first 2xx.
- Threshold tuning: Binance Top Traders (long >62 / short <38), Taker Volume (ratio >1.25 / <0.75) so more sources contribute; see IMPROVEMENT_WEIGHTS_AND_TUNING.md for tunables (451 threshold, nudge strength).
- Binance data improvements (2026-02-04): (1) Funding "extreme" now percentile-based (top/bottom 10% of last 30 rates). (2) Binance L/S ratio â†’ BinanceLongShort (ratio >1.5 / <0.67). (3) BINANCE_DATA_IMPROVEMENTS.md doc. (4) Implemented: base URL from VINCE_BINANCE_BASE_URL (proxy for 451); validation/clamping (longPosition 0â€“100, buySellRatio 0.1â€“10, L/S and funding); more history + smoothing (top trader and taker limit=5, avg of last 3); OI flush as weak signal BinanceOIFlush when OI falling <-5%. See .env.example for VINCE_BINANCE_BASE_URL.

## Hyperliquid API expansion (2026-02-04) âœ…
- New endpoints in hyperliquid.fallback.ts: (1) getPerpsAtOpenInterestCap() â€“ type "perpsAtOpenInterestCap", returns list of perps at OI cap (cache 60s). (2) getFundingHistory(coin, startTime, endTime?) â€“ type "fundingHistory". (3) getFundingRegime(coin, currentFunding8h, lookbackSamples?) â€“ uses getFundingHistory and computes percentile (0â€“100), isExtremeLong (â‰¥90), isExtremeShort (â‰¤10).
- New signals in signal aggregator: HyperliquidOICap (asset in perpsAtOICap â†’ contrarian signal, strength 52, fade overallBias). HyperliquidFundingExtreme (getFundingRegime â†’ mean reversion when HL funding in top/bottom 10% of last 30 intervals; strength 58, confidence 54).
- Phase 1 fetch: perpsAtOICap added to Promise.all; section 9 calls getFundingRegime(asset, optionsPulse.funding8h) with timeout when HL pulse has funding for asset. IHyperliquidService extended with getPerpsAtOpenInterestCap?, getFundingRegime? (external-services.ts). dynamicConfig: HyperliquidFundingExtreme 1.35, HyperliquidOICap 1.2. SIGNAL_SOURCES.md and getStatus() updated. HYPERLIQUID_ENDPOINTS.md documents all HL endpoints in use and algo impact; summary updated to show perpsAtOpenInterestCap and fundingHistory now in use.

## ML pipeline alignment with new data sources (2026-02-04) âœ…
- Feature store (vinceFeatureStore.service.ts): hasFundingExtreme now true for either BinanceFundingExtreme or HyperliquidFundingExtreme. New hasOICap true when HyperliquidOICap in sources. SignalFeatures interface and collectSignalFeatures() return hasOICap; sourceWeights include HyperliquidFundingExtreme and HyperliquidOICap for highestWeightSource.
- train_models.py: Optional feature signal_hasOICap in signal-quality prepare list when column present. CANDIDATE_SIGNAL_FACTORS extended with "Hyperliquid OI cap" (hint signal_hasOICap) and "Hyperliquid funding extreme" (hint signal_hasFundingExtreme) for improvement report.
- generate_synthetic_features.py: Source pool expanded to 10 names (CoinGlass, BinanceTakerFlow, MarketRegime, BinanceFundingExtreme, HyperliquidFundingExtreme, HyperliquidOICap, HyperliquidBias, HyperliquidCrowding, BinanceOIFlush, BinanceLongShort). Each record picks 2â€“6 sources at random; hasFundingExtreme, hasOICap, hasCascadeSignal, hasWhaleSignal derived from chosen sources; sourceCount and highestWeightSource set from selection.
- test_train_models.py: Synthetic record shape includes hasOICap (e.g. i % 7 == 0) so test data matches feature store.
- ALGO_ML_IMPROVEMENTS.md: Note under feature alignment that after retraining with data containing signal_hasOICap, mlInference.service.ts must add that input to SignalQualityInput and prepareSignalQualityFeatures() so ONNX input dimension matches (inference currently 15 inputs; new model may have 16).
- Verified: All 6 ML tests pass; generate â†’ train on 100 synthetic records produces ONNX + improvement_report.md; signal_hasOICap appears in feature importances (e.g. signal_quality top features).

## ML inference + news features (2026-02-04) âœ…
- mlInference.service.ts: SignalQualityInput extended with hasOICap, newsNasdaqChange, newsMacroRiskOn, newsMacroRiskOff. prepareSignalQualityFeatures() builds 16/17/20-dim vector from training_metadata.signal_quality_input_dim; nasdaq normalized -5..5; fallback uses hasOICap and macro risk. training_metadata.json now includes signal_quality_input_dim when signal-quality model is trained.
- signalAggregator: hasFundingExtreme includes HyperliquidFundingExtreme; hasOICap set when HyperliquidOICap in sources; ML input built with HIP-3 pulse (withTimeout): newsNasdaqChange from indices US500/INFOTECH change24h, newsMacroRiskOn/Off from summary.tradFiVsCrypto (crypto_outperforming â†’ risk_on, tradfi_outperforming â†’ risk_off). News fields passed to inference when HIP-3 available.

## WHY THIS TRADE banner expansion (2026-02-04) âœ…
- When a paper trade is opened, the ASCII banner "WHY THIS TRADE" section is expanded: (1) Up to 20 factors shown (was 14), in multiple bullet lines (7 per line). (2) Optional "ML Quality XX%" line when signal has mlQualityScore. (3) Optional "Open window +X% boost" when openWindowBoost > 0. (4) Richer thesis: up to 12 reason snippets, 8 unique parts, 5 words each. (5) "â€¦ +N more" uses maxReasonsShown=20. AggregatedTradeSignal (paperTrading.ts) extended with optional mlQualityScore and openWindowBoost; tradeSignal in evaluateAndTrade passes these from AggregatedSignal so the open banner shows ML and session context.

## Dynamic signal-quality feature vector (2026-02-04) âœ…
- mlInference.service.ts now builds the signal-quality input vector from training_metadata.signal_quality_feature_names when present, so inference works with any model size (e.g. 31 or 33 features) after retraining. No more dimension mismatch when new features (OI cap, news, asset dummies, optional market columns) are added in Python.
- loadImprovementReport(): reads signal_quality_feature_names (string[]) and stores in signalQualityFeatureNames; logs "Signal quality feature names: N (dynamic vector)".
- getSignalQualityFeatureValue(name, input): returns normalized value for each training column name; unknown names (e.g. market_dvol, signal_avg_sentiment) â†’ 0; asset_* â†’ 1 when input.assetTicker matches, else 0.
- prepareSignalQualityFeatures(): if signalQualityFeatureNames set, builds Float32Array by iterating over names; else keeps legacy 16/17/20-dim logic for backward compatibility.
- SignalQualityInput: optional assetTicker (e.g. "BTC", "ETH") for asset dummies. signalAggregator passes assetTicker: signal.asset when building ML input.
- Tests: src/__tests__/mlInference.service.test.ts â€” 6 tests (dynamic 23-feature, full 33-feature, asset tickers BTC/ETH/SOL/HYPE, legacy 16-dim no names, getSignalQualityThreshold). Mock fs so .onnx paths don't exist â†’ no ONNX load attempts, no "invalid model" logs or Bun crash; Supabase download mocked.

## Algo ML Improvements âœ…
- ALGO_ML_IMPROVEMENTS.md: roadmap for using ML more (position sizing, TP/SL wiring, block low ML quality, improvement report, similarity filter, bandit feedback). Implemented: ML position sizing in paper trading (evaluateAndTrade) â€“ base size multiplied by predictPositionSize (0.5â€“2x) using signal quality, strength, confidence, volatility regime, drawdown, recent win rate, streak.
- ONNX export: train_models.py uses onnxmltools (not skl2onnx) for XGBoost â†’ ONNX; booster feature names temporarily set to f0, f1, â€¦ for converter compatibility. All four models (signal_quality, position_sizing, tp_optimizer, sl_optimizer) export to .onnx when pip3 install onnx onnxmltools. Docs/scripts use pip3 (Mac).
- Similarity "avoid" hard filter: in evaluateAndTrade(), when mlSimilarityPrediction.recommendation === "avoid", trade is skipped (with log) before validation. ALGO_ML_IMPROVEMENTS #5 done.
- Bandit outcome feedback: on open, contributingSources (source names from signal.sourceBreakdown) stored in position.metadata.contributingSources; on close, weightBandit.recordOutcome({ sources, profitable, pnlPct }) with those names so Thompson Sampling arms get PnL-weighted updates. ALGO_ML_IMPROVEMENTS #6 done.
- ALGO_ML_IMPROVEMENTS.md: added "Further ML flow improvements" (training labels, calibration, retrain triggers, feature alignment, A/B shadow mode).

## Fetch Performance (Timeouts + Parallelization) âœ…
- Coinglass: 10s timeout on every fetch; refreshData() runs BTC/ETH/SOL + Fear/Greed in parallel; per-asset OI/funding/Binance L/S in parallel; fetchFreeData() runs price/funding/LS/OI in one Promise.all.
- Signal aggregator: SOURCE_FETCH_TIMEOUT_MS (12s) and withTimeout(ms, label, promise) so one slow source returns null and does not block. Phase 1: Binance, Deribit IV, MarketData, Sanbase, Hyperliquid (options pulse + cross-venue + perpsAtOICap), Deribit comprehensive + DVOL fetched in a single Promise.all; sections 3â€“10 use pre-fetched results; section 9 adds HyperliquidOICap (asset at OI cap) and HyperliquidFundingExtreme (getFundingRegime per asset). Phase 2: getTakerVolume, getRSIAdjustment, getOpenWindowInfo wrapped in withTimeout. getAllSignals() uses Promise.all(assets.map(getSignal)) so multi-asset aggregation runs in parallel.

## ML Learning State âœ…
- Feature store: 21+ feature/synthetic files in .elizadb/vince-paper-bot/features (features_*.jsonl, synthetic_*.jsonl). 1250+ completed trades for training.
- Synthetic data: generate_synthetic_features.py supports --count, --output, --append (timestamps continue), --win-rate, --seed. train_models.py loads all features_*.jsonl and synthetic_*.jsonl from --data dir.
- ONNX: Script exports .onnx when onnxmltools installed; joblib backups and improvement_report.md always written. Run from repo root: python3 src/plugins/plugin-vince/scripts/train_models.py --data .elizadb/vince-paper-bot/features --output .elizadb/vince-paper-bot/models --min-samples 90.
- Tests: test_train_models.py (8 tests: metadata/holdout, learning baseline, insufficient data, SL label, multi-asset, generateâ†’train, recency-decay/balance-assets smoke, tune-hyperparams smoke) and generate_synthetic_features.py verified; pytest optional.
- Run from repo root: `bun run train-models` or `python3 src/plugins/plugin-vince/scripts/train_models.py --data .elizadb/vince-paper-bot/features --output .elizadb/vince-paper-bot/models --min-samples 90` (script lives in plugin-vince/scripts/, not repo root). Optional: --recency-decay, --balance-assets, --tune-hyperparams.

## train_models.py improvements for more sources (2026-02-05) âœ…
- TP and SL optimizers now use same optional news/signal features as signal quality and position sizing when present: news_nasdaqChange, news_macro_risk_on/off, signal_hasOICap, news_etfFlowBtc/EtfFlowEth.
- Shared OPTIONAL_FEATURE_COLUMNS tuple used by all four prepare_* functions to avoid drift when adding new feature-store columns.
- CANDIDATE_SIGNAL_FACTORS extended with Binance L/S ratio (market_longShortRatio) and Binance OI flush (market_oiChange24h) for improvement report suggestions.
- improvementReportWeights.ts: signal_hasOICap â†’ HyperliquidOICap; news_etfFlowBtc, news_etfFlowEth â†’ NewsSentiment for run-improvement-weights after retrain.
- Script docstring documents extending OPTIONAL_FEATURE_COLUMNS and CANDIDATE_SIGNAL_FACTORS when the feature store adds new sources. See scripts/FEEDBACK.md and scripts/PARAMETER_IMPROVEMENT.md.

## train_models.py: holdout metrics, sample weights, tuning, tests (2026-02-05) âœ…
- Holdout metrics: _holdout_metrics() computes AUC (signal quality), MAE/quantile loss (position sizing, SL) on time-based holdout; written to improvement_report.holdout_metrics and improvement_report.md; in training_metadata.json. For drift/sizing checks.
- Sample weights: --recency-decay and --balance-assets; _compute_sample_weights(); passed into all four train_* fits so one symbol or era does not dominate.
- Hyperparameter search: --tune-hyperparams runs GridSearchCV (max_depth, learning_rate, n_estimators) with TimeSeriesSplit for signal_quality and position_sizing.
- StandardScaler: _safe_float_columns_for_scaler() in all four prepare_* to avoid "Mean of empty slice" when float columns empty or constant.
- improvementReportWeights: ImprovementReport type and logAndApplyImprovementReportWeights() now include holdout_metrics; script logs them when present.
- validate_ml_improvement.py: optionally prints holdout_metrics from last training run (training_metadata.json) when found.
- test_train_models.py: 8 tests total; assert holdout_metrics in metadata when training succeeds; smoke tests test_recency_decay_and_balance_assets_run_without_crash and test_tune_hyperparams_run_without_crash; run_train_models() accepts extra_args and timeout_sec.
- Docs: IMPROVEMENT_WEIGHTS_AND_TUNING.md (holdout_metrics, 8 tests); ML_IMPROVEMENT_PROOF.md (holdout, validate script, test description); PARAMETER_IMPROVEMENT.md (holdout + optional training options); FEEDBACK.md (medium impact done, backlog described); generate_synthetic_features.py docstring (optional train flags); README.md (train-models script, holdout, docs table); progress.txt (this entry).

## ML on Eliza Cloud âœ…
- Why Cloud had no ML: .elizadb/ is gitignored, so the deploy image never contained ONNX files; the bot fell back to rule-based signal quality, sizing, and TP/SL.
- **Option A â€“ Training on Cloud (no extra redeploy):** With Supabase configured, training runs **in the container** and models **persist across redeploys**.
  - Dockerfile: Python3 + pip + pip install -r scripts/requirements.txt (xgboost, onnxmltools, etc.) so TRAIN_ONNX_WHEN_READY can run train_models.py in the container.
  - One-time: Create Supabase Storage bucket **vince-ml-models** (Dashboard â†’ Storage â†’ New bucket â†’ name: vince-ml-models, private). See DEPLOY.md Â§ "One-time: Create the vince-ml-models bucket".
  - After training: task uploads .onnx + training_metadata.json to vince-ml-models (supabaseMlModels.ts), then calls ML service reloadModels() so new models apply without restart.
  - On (re)deploy: ML Inference Service downloads from vince-ml-models if local models dir is empty, then loads. So no $15 redeploy needed to get new models.
  - Utils: src/plugins/plugin-vince/src/utils/supabaseMlModels.ts (getSupabaseClient, uploadModelsToSupabase, downloadModelsFromSupabase).
- **Option B â€“ Ship models in repo:** Copy trained .onnx + training_metadata.json into src/plugins/plugin-vince/models/, commit, deploy. Dockerfile copies that folder into .elizadb/vince-paper-bot/models/ at build time. See plugin-vince/models/README.md.
- Docs: DEPLOY.md "ML training on Eliza Cloud" and "One-time: Create the vince-ml-models bucket"; FEATURE-STORE.md Â§5; scripts/supabase-feature-store-bootstrap.sql for feature table.

================================================================================
PRD â€“ MVP ENHANCEMENTS (Feb 2026)
================================================================================
Source: Product Requirements Document â€“ Enhancements to Self-Improving Paper Trading Bot for Hyperliquid Perps.
Scope: Performance optimization, expanded testing, real-money safeguards, UI/dashboard, ML pipeline refinements. Out of scope: full rewrite; nonâ€“Hyperliquid live; hardware-specific optimizations.

## Current vs target metrics
- Current (as of PRD): ~31.3% win rate, 16 trades, -$928.88 P&L (paper).
- Targets: Win rate â‰¥45%; positive P&L; 100+ trades over 6 months backdata; Sharpe >1.2; max drawdown <20%; AUC >0.75 (holdout); outperform BTC hold by 20%+ annualized for VC appeal.
- KPIs: 50% reduction in negative P&L trades post-improvements; 2x faster model retraining; 99% uptime paper mode; <100ms inference per decision.

## Success criteria (PRD)
- Quantitative: Win rate â‰¥45%, Sharpe >1.2, max drawdown <20% in backtests; AUC >0.75 in ML holdout.
- Qualitative: Positive feedback on "WHY THIS TRADE" explainability; seamless plugin integration.
- Technical: Safe path to real-money (risk controls, audit logs, fallback on signal/API failure).

## Prioritized improvements (PRD â†’ progress mapping)

### High â€“ Performance optimization
- Automated hyperparameter tuning: Extend --tune-hyperparams in train_models.py to full Bayesian optimization (e.g. Optuna). Current: GridSearchCV + TimeSeriesSplit.
- Reinforcement learning: Add RL module (Stable Baselines3 or Ray RLlib) rewarding positive P&L; integrate with feature store. Backlog.
- Bandit: Already using Thompson Sampling (VinceWeightBanditService). PRD suggests ensuring multi-armed bandit dynamically tests signal combinations; we record outcomes per sourceâ€”consider explicit A/B arms for signal combos. Backlog refinement.
- Risk-adjusted metrics: Add Sortino ratio and/or Value-at-Risk (VaR) in improvement reports; filter trades with >5% potential loss in reporting. Backlog.

### High â€“ Testing and validation
- Walk-forward optimization: Split data into in-sample / out-of-sample; automate via backtrader or zipline. Backlog.
- Stress testing: Synthetic black swan data (e.g. 50% flash crashes) with NumPy/SciPy; evaluate model robustness. Backlog.
- Extended backtesting: 1â€“2 year historical data from Hyperliquid/Binance; --asset-expansion (e.g. AVAX, LINK). Backlog.
- CI/CD: GitHub Actions daily backtests; alert on regressions. Backlog.

### Medium â€“ Real-money integration (safeguards)
- Config flag --live-mode with mandatory simulation pre-check (e.g. 100 profitable paper trades). Backlog.
- Risk controls: Kelly criterion position sizing (SciPy optimize); stop-loss/take-profit automation; max daily loss cap (e.g. 2% of account). Backlog (Kelly already in backlog).
- Audit logs: All trades with blockchain timestamps for compliance. Backlog.
- Fallback: On signal/API failure, default to hold or exit. Partially present (circuit breakers, degraded Binance); formalize "hold or exit" policy. Backlog.

### Medium â€“ UI/Dashboard and explainability
- Streamlit or Flask dashboard: Trades, P&L curves, feature importances (SHAP), "WHY THIS TRADE" breakdowns. Backlog.
- Real-time alerts: Telegram/Slack for trade notifications. (VinceNotificationService exists; ensure trade events push.) Verify/expand.
- Export reports: PDF summaries of improvement cycles and tuned params. Backlog.

### Low â€“ Plugin and extensibility
- API endpoints for community plugins (e.g. new signal sources like Glassnode). Backlog.
- Multi-threaded signal fetch: concurrent.futures for parallel signal fetching. (We use Promise.all and withTimeout; consider worker pool for CPU-bound or many sources.) Backlog.
- ONNX version control: Git-like repo for model versions and rollback. Backlog.

## Implementation timeline (PRD)
- Sprint 1 (2 weeks): Performance optimization + testing suite.
- Sprint 2 (2 weeks): Real-money integration + dashboard.
- Sprint 3 (1 week): Plugins and polish.
- Total: 5 weeks to MVP enhancements. Resources: 1â€“2 engineers (Python/ML); Optuna, SHAP, Streamlit; minimal budget.

## Risks and mitigations (PRD)
- ML overfitting: Enforce cross-validation in all trainings (we have holdout + TimeSeriesSplit).
- Live mode financial loss: Micro-positions (<$100/trade), auto-shutdown.
- Scope creep: Strict prioritization; weekly check-ins.
- Data privacy (API keys): Env vars and encryption (already in place).

================================================================================
TOP PRIORITY â€“ FIX FIRST
================================================================================

1. **VINCE Discord: "Send handler not found" + can't reply or push day report** â€” RESOLVED âœ… (see V4.32 above)
   - **Fix:** Two Discord apps (VINCE_DISCORD_* and ELIZA_DISCORD_* with different IDs). No VINCE_DISCORD_ENABLED; set VINCE_DISCORD_APPLICATION_ID + VINCE_DISCORD_API_TOKEN only. Eliza loads Discord from agent plugins when her token is set. Optional DELAY_SECOND_DISCORD_MS=3000 if second bot fails to connect.
   - Handler lookup: room.source normalized to lowercase ("discord"). Refs: DISCORD.md, src/agents/vince.ts (vinceHasOwnDiscord), notification.service (getPushTargets).

================================================================================
PRIORITY (real-time data for paper trading algo)
================================================================================

ðŸŸ¢ VINCEBINANCE HTTP 451 â€“ DONE âœ…
   (1) DONE: logHttpWarn() with 5-min cooldown, 451 context, debug for repeats.
   (2) DONE: Binance tracks consecutive 451s; when >= 3, isDegraded() returns true and
   signal aggregator skips Binance (no getIntelligence call). Recovery when any fetch
   returns 2xx (recordSuccess()). See binance.service.ts and signalAggregator Phase 1.

ðŸŸ¢ IMPROVE LOGS FOR ELIZA CLOUD (https://www.elizacloud.ai/) â€“ DONE âœ…
   - âœ… Reduce INFO noise (aggregator, Coinglass, Hyperliquid â†’ debug).
   - âœ… Warnings: VinceBinance 451 cooldown; MandoMinutes 5-min cooldown (warn once, debug repeats);
     VinceNotification: single aggregated warn for push failures.
   - âœ… Structure: All logs use [Source] prefix for Cloud filter (e.g. [VinceBinance], [VinceNewsSentiment]).

ðŸŸ¢ IMPROVE THE AMOUNT OF REAL-TIME DATA USED FOR THE PAPER TRADING ALGO â€” DONE âœ… (2026-02-05)
   Relaxed thresholds: Binance L/S 1.4/0.72, News conf â‰¥45, Liq pressure >35, Deribit skew+P/C neutral/1.2/0.82, MarketRegime neutral+volatile, Sanbase neutral. See IMPROVEMENT_WEIGHTS_AND_TUNING.md.
   - Ensure Binance, MarketRegime, News, Deribit, BinanceLiquidations, Sanbase,
     Hyperliquid, etc. actually contribute factors (see SIGNAL_SOURCES.md).
   - Confirm in logs: at startup [VINCE] ðŸ“¡ Signal sources available: N/8 (...);
     on each aggregation use LOG_LEVEL=debug to see VinceSignalAggregator per-asset contribution.
   - Use LOG_LEVEL=debug to see "tried but no contribution" for sources that ran
     but didnâ€™t meet thresholds (e.g. taker ratio 0.7â€“1.3, neutral regime).
     âœ… Extended: BinanceLiquidations, Sanbase, Hyperliquid now also reported in
     triedNoContribution when they run but donâ€™t add a factor (see signalAggregator).
   - Populate MandoMinutes cache for News; consider relaxing or tuning thresholds
     so more sources contribute more often.
   - âœ… 2026-02-04: News now contributes when sentiment is neutral (confidence >= 40):
     aggregator adds a neutral-direction factor "News sentiment neutral (X% confidence)"
     so NewsSentiment appears in "Sources:" more often and real-time news is visible in logs.
     THINGS TO DO #1 and #5 marked DONE (market features + DVOL in paper trading; see above).

================================================================================
IN PROGRESS
================================================================================

ðŸ”„ Paper trading bot needs more trades to tune Thompson Sampling weights (PRD: target 100+ trades, win rate â‰¥45%)
   â†’ Use VINCE_PAPER_AGGRESSIVE=true ($280 TP, 2:1 R:R, 40x, no cooldown) and VINCE_PAPER_ASSETS=BTC (focus BTC first) to get more trades and JSONL for ML.
ðŸ”„ Feature store: 90+ trades available; ONNX training runs automatically (TRAIN_ONNX_WHEN_READY) or manually: python3 src/plugins/plugin-vince/scripts/train_models.py --data .elizadb/vince-paper-bot/features --output .elizadb/vince-paper-bot/models --min-samples 90. Install: pip3 install onnx onnxmltools.
ðŸ”„ No improvement suggestions generated yet (needs more trading data)
ðŸŸ¢ Increase real-time signal factors â€” DONE âœ… (2026-02-05); thresholds relaxed.

--------------------------------------------------------------------------------
DEBUG LOG FOCUS (from LOG_LEVEL=debug) â€“ things to fix or improve
--------------------------------------------------------------------------------
Run with LOG_LEVEL=debug to see these; address to reduce noise and fix misclassifications.

1. **News sentiment still bullish when it shouldnâ€™t** â€” FIXED âœ…
   - Debug log shows: "Bullish sample: BTC erases gains since Trump's election win | â€¦ Bearish sample: ." and "weighted bullish=5.9 bearish=0.0 (confidence 100%)".
   - We added NEGATIVE_GAINS_PHRASES ("erases gains", etc.) and bearish keywords (slide, retreats, probes). If "BTC erases gainsâ€¦" still appears as bullish sample, either: (a) cache wasnâ€™t cleared / re-fetch so old classifications persist, (b) phrase match fails (e.g. "Trump's" vs "Trump", or different wording in MandoMinutes). **Focus:** Verify phrase matching (normalize apostrophes?); ensure news cache is re-processed after deploy (or clear cache on startup when sentiment logic version changes); add unit test with "BTC erases gains since Trump's election win" â†’ must be bearish.

2. **Service not found spam** â€” FIXED
   - Repeated every tick: "[AGENT] Service not found (serviceName=HYPERLIQUID_SERVICE)" and "(serviceName=DERIBIT_SERVICE)". **Fix applied:** In plugin init we register DeribitServiceAlias and HyperliquidServiceAlias when external plugins are not loaded, so getService("DERIBIT_SERVICE")/("HYPERLIQUID_SERVICE") return our fallbacks and core no longer logs "Service not found". See services/fallbacks/aliasServices.ts.

3. **Sanbase API errors every tick** â€” FIXED
   - When response contains only "errors" (rate limit/key), log once per 5â€‘min cooldown. See lastApiErrorLogTime and ERROR_LOG_COOLDOWN_MS in sanbase.service.ts.
4. **HIP-3 allPerpMetas parsing** â€” FIXED
   - Replaced per-item "Item X is not a valid tuple" logs with a single summary: "allPerpMetas: X of Y items invalid (not tuples or bad structure)" when invalid count > 0. Strategy 2 (metaAndAssetCtxs) still falls back when allPerpMetas returns no valid DEXes.

5. **WHY THIS TRADE layout**
   - Supporting/Conflicting sections and "N of M sources agreed (K disagreed)" are working; News correctly appears in Conflicting for SHORT and Supporting for LONG. Remaining fix is sentiment classification so "News sentiment bullish (100% confidence)" reflects reality when headlines are bearish (see #1).

6. **Useful debug lines to keep**
   - "[VinceNewsSentiment] Overall X: weighted bullish=â€¦ bearish=â€¦ (confidence â€¦%). Bullish sample: â€¦ Bearish sample: â€¦" â€“ keep for investigation.
   - "[VinceSignalAggregator] ASSET: N source(s) â†’ M factors | Sources: â€¦" and "tried but no contribution: â€¦" â€“ keep for verifying which sources contribute.
   - Session/off_hours and ML thresholds in "SIGNAL EVALUATED - NO TRADE" â€“ good visibility.

================================================================================
MCP / ELIZA CLOUD â€“ LEVERAGE OPPORTUNITIES
================================================================================
(Ref: https://www.elizacloud.ai/ MCP catalog â€“ serverless, x402 micropayments, SSE/HTTP)

ðŸ“‹ ElizaOS Cloud MCP (v1.0.0 â€“ 20 tools) â€“ Platform
   Use for: credit management, AI generation, memory, conversations, agent interaction.
   - VINCE relevance: Offload heavy or rate-limited calls (e.g. when Binance 451);
     use Cloud memory/conversations for cross-session context; credit-based usage
     fits cost visibility in logs/deploy (see â€œImprove logs for Eliza Cloudâ€).
   - Action: Evaluate wiring plugin-vince to Cloud MCP for memory/credits when
     deploying to Eliza Cloud; document credit impact of signal aggregator + HL/Binance.

ðŸ“‹ Time & Date MCP (v2.0.0 â€“ 5 tools) â€“ Utilities
   Use for: current time, timezone conversion, date calculations.
   - VINCE relevance: Session filters (Asia/EU/US overlap) and day-of-week logic
     (Lifestyle, paper trading confidence/size) already use local time; MCP could
     provide canonical â€œmarket openâ€ / timezone for multi-region users and logs.
   - Action: Optional integration in VinceLifestyleService or signal aggregator
     for time-aware summaries; single source of truth for â€œmarket sessionâ€ in logs.

ðŸ“‹ Weather MCP (v2.0.0 â€“ 4 tools) â€“ Data
   Use for: real-time weather, 16-day forecast, location search (Open-Meteo).
   - VINCE relevance: Lifestyle action (dining, hotel, activities); day-of-week
     suggestions could be weather-aware (e.g. indoor vs outdoor by location).
   - Action: Backlog â€“ add Weather MCP as optional Lifestyle enrichment when
     user shares location or for curated â€œtodayâ€™s vibeâ€ in GM/Aloha.

ðŸ“‹ Crypto Price MCP (v2.0.0 â€“ 3 tools) â€“ Finance, Free
   Use for: live prices, market cap, trending coins (CoinGecko).
   - VINCE relevance: We already use CoinGecko (VinceCoinGeckoService), HIP-3,
     Hyperliquid. MCP could be fallback or secondary source for â€œtrendingâ€ and
     simple price checks without maintaining our own rate limits.
   - Action: Backlog â€“ consider Crypto Price MCP as optional fallback for
     meme/trending or for lightweight price context in actions (cost: free).

General: Adopting MCPs can reduce in-plugin API surface and centralize credits/cost
on Eliza Cloud; log MCP tool calls (tool name + credits if x402) for observability.

================================================================================
MANDOMINUTES INSIGHTS â€“ IMPROVEMENT IDEAS
================================================================================

North star (mid-term, do NOT focus yet): Build our very own news curator to
reduce dependence on MandoMinutes. That is the mid-term goal; do not prioritize
it now.

To-dos (leverage the 37-headline MandoMinutes display for better market vibe
and algo input):

1. Add TLDR / Summary at top â€” DONE âœ… (2026-02-05)
   - One- to two-line "vibe check" derived from headlines (e.g. "Risk-off:
     crypto selloff, Trump gains erased, gold/silver up. Themes: regulatory
     scrutiny, Vitalik ETH sales, quantum fears."). Display at top of box.

2. Categorize headlines by theme
   - Group into: Prices, Flows, Macro, Regulatory, Protocol, Geopolitical,
     Memes/NFTs. Section headers in display (â”ˆâ”ˆ PRICES â”ˆâ”ˆ, etc.).

3. Per-headline sentiment
   - Use NewsSentimentService to score each headline; show aggregate
     (e.g. "15 bearish | 12 neutral | 10 bullish"); optional color-code lines.
   - Surface "sentiment vs price" dissonance when headlines say one thing but
     price action says another.

4. Top 5 Must-Know
   - Extract 5â€“7 highest-impact items (price moves, flows, major macro/reg)
     and show in a dedicated block at top for quick scan.

5. Wire MandoMinutes into aggregator and paper bot â€” DONE âœ… (2026-02-05)
   - getVibeCheck() now flows into signal aggregator as "Headlines: {vibeCheck}"
     factor when news has data. Appears in WHY THIS TRADE and paper bot context.

6. Structured themes for RAG
   - Extract themes (regulatory, vitalik_eth, quantum_fears, macro_risk_off)
     with metadata; store so agent can answer "What's regulatory sentiment?"
     or "Any Vitalik/ETH news?" from memory.

7. Optional UI tweaks
   - Section headers, ðŸ”¥ HOT / âš ï¸ RISK badges on high-impact items; single
     "narrative bias" line (Narrative: bearish | Flow: mixed | Price: selling).

## MandoMinutes sentiment for trading bot â€” DONE âœ… (2026-02-04)
- Asset-specific sentiment: signal aggregator uses getTradingSentiment(asset) which prefers
  getAssetSentiment(asset) when newsCount >= 2, else getOverallSentiment(). Asset-specific
  (e.g. "Vitalik sells ETH") now affects ETH more than BTC.
- Risk-event dampener: when hasHighRiskEvent (critical or warning), bullish news signal is
  blocked; bearish signal gets +8 strength and "risk event active" in factor text.
- Price-embedded headlines: parsePriceSnapshotsFromTitle extracts "BTC: 75.2k (-4%)" etc from
  MandoMinutes; merged into sentiment as priceSentiment contribution (~2 headline equiv).
- Phrase overrides: NEGATIVE_GAINS_PHRASES expanded (continues to slide, touches $, etf outflow,
  probing/probes, sanctions evasion).
- Category weighting: CATEGORY_WEIGHTS per asset (BTC macro 1.5x, SOL leftcurve 1.3x, etc).
- Confidence calibration: blendConfidence blends score-based and headcount-based (60/40).
- Macro vs crypto: category weights implement macro vs crypto vs leftcurve weighting per asset.
- Tests: newsSentiment.service.test.ts â€” expanded phrase tests, getTradingSentiment.

================================================================================
THINGS TO DO NEXT (high impact â€“ leverage data we have, not yet used in algo)
================================================================================

These use data we already collect (or can add with one small integration) but donâ€™t yet feed into trading decisions. Doing them will have the most impact per unit effort.

1. **Use new market features in the trading algo (not just the feature store)** â€“ DONE in paper trading âœ…
   - (a) Book imbalance: evaluateAndTrade uses getBookImbalanceRejection(); skips LONG when bookImbalance < -0.2 (or -0.4 aggressive), SHORT when > 0.2/0.4. (b) SMA20: getAdjustedConfidence() applies getSma20ConfidenceBoost(); trend alignment boosts confidence. (c) Funding reversal: getFundingReversalConfidenceBoost() in getAdjustedConfidence(). (d) DVOL: position size reduced 50% when dvol>85, 30% when dvol>70 (vincePaperTrading.service.ts). Logic in extendedSnapshotLogic.ts; feature store populates bookImbalance, priceVsSma20, fundingDelta, dvol.
   - Optional backlog: Add book/sma20/funding as factors in signal aggregator (richer narrative in aggregated signal text).

2. **Add NASDAQ 24h (and optionally macro/ETF) to news features** â€” DONE âœ… (2026-02-05)
   - Slots exist: news.nasdaqChange, news.etfFlowBtc, news.etfFlowEth, news.macroRiskEnvironment. Currently 0% populated.
   - High impact: Add one free or cheap macro/equity source (e.g. Yahoo Finance, Alpha Vantage, or HIP-3 index if we have NDX) and set news.nasdaqChange in collectNewsFeatures(). Optionally add ETF flow API or scrape so ML can use risk-on/risk-off. See DATA_LEVERAGE.md â€œData still 0%â€.

3. **Use improvement report to tune aggregator weights** â€” DONE âœ… (2026-02-05)
   - training_metadata.json has feature_importances and suggested_signal_factors. When a factor we now populate (e.g. â€œOrder book imbalanceâ€) drops from suggested_signal_factors, we know weâ€™re good.
   - High impact: Periodically (or after each train) read suggested_signal_factors and feature_importances; log which sources/factors are top for signal quality; optionally align dynamicConfig source weights with importances so high-importance sources arenâ€™t downweighted. See ALGO_ML_IMPROVEMENTS.md Â§ â€œConsume improvement reportâ€.

4. **Retrain and ship ONNX after new features have enough samples** â€” DONE âœ… (2026-02-05)
   - Ran train_models.py on 1250 trades (1514 records, 175 files). news_nasdaqChange now top-5 signal_quality feature (5.2%). Copied ONNX + training_metadata to plugin-vince/models. Improvement weights applied: NewsSentiment 0.60â†’0.69, CoinGlass 1.00â†’1.13, MarketRegime 1.00â†’1.07. FEATURE_TO_SOURCE extended with news_nasdaqChange, news_macro_risk_on/off.

5. **Optional: DVOL/regime in position cap** â€“ DONE âœ…
   - Paper trading already reduces size when dvol > 70 (30%) or > 85 (50%); regime-based sizing multiplier applied from MarketRegimeService. See vincePaperTrading.service.ts evaluateAndTrade().

--------------------------------------------------------------------------------
PRD-aligned next steps (from PRD â€“ MVP Enhancements)
--------------------------------------------------------------------------------
- Optuna (or full Bayesian) for train_models.py hyperparameters; we have GridSearchCV, extend to reduce tuning cycles (PRD: 2x faster retraining).
- Sortino / VaR in improvement reports and trade filtering (>5% potential loss); improve risk-adjusted view (PRD High).
- Walk-forward optimization (in-sample / out-of-sample) and stress tests (black swan synthetic data) for robustness (PRD High).
- RL module (Stable Baselines3 / Ray RLlib) rewarding positive P&L, fed from feature store (PRD High).
- Dashboard (Streamlit/Flask): P&L curves, SHAP feature importances, "WHY THIS TRADE" breakdowns; PDF export of improvement cycles (PRD Medium).
- Live-mode safeguards: --live-mode flag, 100 profitable paper trades pre-check, Kelly sizing, max daily loss 2%, audit logs, hold/exit fallback (PRD Medium).
- CI/CD: GitHub Actions daily backtests with regression alerts (PRD High).
- ONNX versioning and rollback; community plugin API; multi-threaded signal fetch where beneficial (PRD Low).

================================================================================
NEXT / BACKLOG
================================================================================

ðŸŸ¢ Migrate prod to Supabase Postgres â€” DONE âœ… (2026-02-05)
   POSTGRES_URL + SUPABASE_SERVICE_ROLE_KEY + SUPABASE_URL in .env. plugin_vince.paper_bot_features and public.vince_paper_bot_features in same Supabase DB as ElizaOS tables. Added: scripts/sync-jsonl-to-supabase.ts (backfill), SUPABASE_MIGRATION.md (checklist), getSupabaseUrl() supports pooler URL. See FEATURE-STORE.md, DEPLOY.md.
ðŸŸ¢ Daily report task: VINCE_DAILY_REPORT runs at VINCE_DAILY_REPORT_HOUR (default 18:00 UTC); pushes ALOHA + OPTIONS + PERPS + HIP-3 to channels with "daily" in name. Set VINCE_DAILY_REPORT_ENABLED=false to disable. NOTIFICATIONS.md has channel structure (e.g. #vince-daily-reports, #vince-alerts).
ðŸŸ¢ Train ONNX when 90+ trades: task TRAIN_ONNX_WHEN_READY registered; runs on schedule (12h), max once per 24h; min-samples 90. On Cloud: Dockerfile installs Python ML deps; after training task uploads models to Supabase Storage (vince-ml-models) and calls ML service reloadModels(); on next deploy app downloads from bucket. Manual (from repo root): `pip3 install -r src/plugins/plugin-vince/scripts/requirements.txt` then `python3 src/plugins/plugin-vince/scripts/train_models.py --data .elizadb/vince-paper-bot/features --output .elizadb/vince-paper-bot/models --min-samples 90`. One-time: create bucket vince-ml-models in Supabase (DEPLOY.md).
ðŸ“‹ Add more NFT collections to floor tracking
ðŸ“‹ Implement ClawdBot integration for self-healing (see WHY.md)
ðŸ“‹ Add Telegram/Discord notifications for alerts
ðŸ“‹ Add more meme tokens to constants
ðŸ“‹ Implement position sizing based on Kelly Criterion ML model (PRD: live-mode risk controls)
ðŸ“‹ Add correlation-based position limits
ðŸ“‹ Implement trailing stop-loss logic
ðŸ“‹ PRD: Optuna/Bayesian hyperparameter tuning in train_models.py
ðŸ“‹ PRD: Sortino ratio and VaR in improvement reports; filter >5% loss trades
ðŸ“‹ PRD: Walk-forward optimization + stress testing (black swan synthetic data)
ðŸ“‹ PRD: RL module (Stable Baselines3/Ray RLlib) for P&L-rewarded policy
ðŸ“‹ PRD: Streamlit/Flask dashboard (P&L, SHAP, WHY THIS TRADE, PDF export)
ðŸ“‹ PRD: Live-mode safeguards (pre-check, Kelly, 2% daily cap, audit logs)
ðŸ“‹ PRD: GitHub Actions daily backtests + regression alerts
ðŸ“‹ PRD: ONNX version control; community plugin API; parallel signal fetch
ðŸŸ¢ Debug log: News sentiment "erases gains" bug â€” FIXED (2026-02-05); see DEBUG LOG FOCUS #1.
ðŸ“‹ Debug log: Reduce "Service not found (HYPERLIQUID_SERVICE/DERIBIT_SERVICE)" noise â€“ dedupe or
   register fallback as the named service (see DEBUG LOG FOCUS #2).
ðŸ“‹ Debug log: Sanbase "API response keys: errors" â€“ log once per cooldown when response is errors only.
ðŸ“‹ HIP-3: Fix or skip allPerpMetas parsing when response shape is invalid (DEBUG LOG FOCUS #4).

Product feedback â†’ backlog:
ðŸ“‹ NEWS: Build own news plugin + day report to reduce MandoMinutes dependency (likely X API ~$100/mo).
ðŸ“‹ MEMES: Fix bold styling in UI (quick fix; looks messy). Improve quality over time (not top priority).
ðŸ“‹ BOT: Polish BOT command â€” DONE âœ… (compact layout, shared footer, KPI/positions condensed)
ðŸ“‹ INTEL: Address redundancy with GM / Aloha (merge or differentiate).
ðŸŸ¢ UPLOAD / knowledge: YouTube + article URLs use [Ikigai Labs summarize](https://github.com/IkigaiLabsETH/summarize) (fork of steipete/summarize) via bunx; transcript/summary saved to knowledge/<category>/. This improves our workflow to keep growing the knowledge folder from URLs and videos. Manual test: bun run scripts/test-summarize.ts (example: https://www.youtube.com/watch?v=wGucOorJlvk). Remaining: batch scripts for feeds, long PDFs; optional ClawdBot (Moltbot) for heavy ingestion.
ðŸ“‹ LIFESTYLE: More focus on curated local (hotel/restaurant/spa/health/fitness); may migrate to dedicated CLAWDBOT.
ðŸ“‹ NFT: Continue improving floor/tracking; solid MVP, "thin floor" gems from iconic collections still valued.

================================================================================
KNOWN ISSUES / LIMITATIONS
================================================================================

âš ï¸ XAI/Grok requires API key (not all users will have)
âš ï¸ Nansen limited to 100 credits/month
âš ï¸ Sanbase limited to 1K calls/month
âš ï¸ Paper bot circuit breakers not yet validated with real trading
âš ï¸ ONNX inference active when .onnx files present in models dir; install onnxmltools and run train_models.py to generate them (feature names f0,f1,â€¦ applied at export for converter)
âš ï¸ Eliza Cloud deploy (vince2) timed out after 15 min; 15 credits were deducted
   (see DEPLOYMENT section below)

================================================================================
SUPABASE / STORAGE
================================================================================

We added this clarification so itâ€™s recorded in progress.txt:

- **POSTGRES_URL (Supabase Postgres)** = main app database. ElizaOS (plugin-sql) uses it for conversation/message storage, agent memory, entities, rooms, relationships, tasks, cache, and knowledge embeddings. So Supabase is used for memory storage of conversations and all other runtime persistence. Required for persistent deploy; without it the app uses local PGLite.
- **SUPABASE_SERVICE_ROLE_KEY / SUPABASE_URL** = optional. Used for: (1) Feature store dual-write: paper-bot features upserted to table vince_paper_bot_features (create once: scripts/supabase-feature-store-bootstrap.sql); data persists across redeploys. (2) ML models on Cloud: Storage bucket vince-ml-models stores .onnx + training_metadata.json; training runs in container, app downloads latest on startup (no redeploy). Create bucket once: Dashboard â†’ Storage â†’ New bucket â†’ name: vince-ml-models (private). deploy-cloud.sh passes these from .env when set. See FEATURE-STORE.md and DEPLOY.md.

================================================================================
DEPLOYMENT (Eliza Cloud)
================================================================================

Current prod:
- Repo pushed to prod with Eliza Cloud; everything works fine.
- Migrated to Supabase Postgres (POSTGRES_URL + SUPABASE_* in .env). ElizaOS tables
  (agents, memories, entities, rooms, etc.) and plugin_vince.paper_bot_features
  live in the same Supabase DB. Migration tested and working. See FEATURE-STORE.md
  for how feature-store jsonl fits with ElizaOS auto-generated tables.

2026-02-02 â€“ vince2 deploy timeout (historical):
- Command: elizaos deploy --project-name vince2 (with ANTHROPIC, OPENAI, POSTGRES_URL)
- Credits: 15 deducted when container was created (before health check)
- Container created: 0983fab1-1756-4008-8f7c-c7592aa9c915
- Outcome: CLI reported "Deployment failed" â€“ timeout after 15 minutes waiting for
  container to pass health check (/health returning 200). Container may still exist
  or still be deploying.
- Dashboard: https://www.elizacloud.ai/dashboard/containers/0983fab1-1756-4008-8f7c-c7592aa9c915
- Next steps:
  1. Check status: elizaos containers list
  2. View logs: elizaos containers logs --project-name vince2 --tail 200
  3. Ensure app returns 200 OK at /health (required for deploy success)
  4. If deploy never became usable: contact Eliza Cloud support to request
     credit restoration for timed-out deployment (15 credits)

================================================================================
BRANDING, CHANNELS & X (TWITTER)
================================================================================

Frontend / branding (Eliza Cloud):
- The current frontend we have deployed through Eliza Cloud is fine for now but
  is very much NOT on brand with IKIGAI LABS and IKIGAI STUDIO.
- Intent: internal use only. Do NOT promote this deployment; it is for our team
  and community ops, not as a public-facing product.

Channel strategy â€“ â€œwhere the community isâ€:
- We are super bullish on being where the users are (in our case, the community).
  Hence our focus order:
  1. DISCORD FIRST: Primary channel. Connect Discord servers for AI-powered
     automation (announcements, app updates, rich embeds, scheduled posts).
     Eliza Cloud Settings â†’ Discord Bot is the first integration we use.
  2. TELEGRAM SECOND: Connect Telegram bot for automation (channels, auto-reply
     in groups, welcome messages, /help and /about). Available in Eliza Cloud
     Settings â†’ Connections (Bot Token from @BotFather).
- Upcoming features (Eliza Cloud) we may or may not use:
  - Bluesky (Coming Soon) â€“ cross-platform automation.
  - LinkedIn (Coming Soon) â€“ professional content automation.
  - Meta Ads (Coming Soon) â€“ Facebook & Instagram campaigns.
  No commitment yet; evaluate when live.

X (Twitter) integration â€“ second thoughts:
- X integration feels like the most important channel from a reach perspective,
  but we have serious reservations due to backstory:
  - Most ElizaOS bots got banned on X.
  - The original ElizaOS (ai16z at the time) also got banned; they had to
    rebrand (including due to lawsuit) â€“ so the ecosystem has direct experience
    with X enforcement against agent/bot accounts.
- Outcome: We are not prioritizing X integration for now. Internal use and
  community focus (Discord, then Telegram) avoid that risk. Revisit X only if
  we have a clear, low-risk path (e.g. official partnerships or policy change).

================================================================================
SESSION NOTES
================================================================================

2026-02-06:
- PRD (Product Requirements Document) integration: Added "PRD â€“ MVP Enhancements (Feb 2026)" section to progress.txt. Captures current vs target metrics (31.3% win rate, 16 trades, -$928.88 â†’ â‰¥45% win rate, Sharpe >1.2, max DD <20%, AUC >0.75); success criteria; prioritized improvements (High: perf + testing; Medium: real-money safeguards + UI/dashboard; Low: plugin API, ONNX versioning); 5-week timeline (Sprint 1â€“3); risks and mitigations. PRD-aligned next steps and backlog items added (Optuna, Sortino/VaR, walk-forward, stress tests, RL module, dashboard, live-mode, CI/CD backtests, ONNX versioning). See PRD section and "PRD-aligned next steps" under THINGS TO DO NEXT.

2026-02-05:
- Supabase migration (NEXT/BACKLOG): (1) Added SUPABASE_MIGRATION.md with checklist (bootstrap SQL, .env, backfill, verify, deploy). (2) scripts/sync-jsonl-to-supabase.ts for one-off JSONLâ†’Supabase backfill. (3) getSupabaseUrl() in vinceFeatureStore.service.ts now derives SUPABASE_URL from pooler URLs (postgres.PROJECT_REF:...) so SUPABASE_URL optional when using pooler. (4) Updated FEATURE-STORE.md, DEPLOY.md, scripts/README.md. Migration ready for prod.
- Retrain + improvement weights (THINGS TO DO #3, #4): (1) Ran train_models.py on 1250 trades, 1514 records, 175 files. news_nasdaqChange top-5 signal_quality (5.2%); position_sizing: news_macro_risk_on/off 8.1%/7.4%. (2) FEATURE_TO_SOURCE extended: news_nasdaqChange, news_macro_risk_on, news_macro_risk_off â†’ NewsSentiment. (3) run-improvement-weights.ts VINCE_APPLY_IMPROVEMENT_WEIGHTS=true: NewsSentiment 0.60â†’0.69, CoinGlass 1.00â†’1.13, MarketRegime 1.00â†’1.07, BinanceTopTraders 1.00â†’0.93, BinanceFundingExtreme 1.50â†’1.37, LiquidationCascade 2.00â†’1.70. tuned-config.json persisted. (4) Copied ONNX + training_metadata to plugin-vince/models for Cloud deploy.
- MandoMinutes #5: Wire getVibeCheck into paper bot. Signal aggregator adds "Headlines: {vibeCheck}" factor when news has data. Flows to WHY THIS TRADE and paper bot context. See signalAggregator.service.ts (News section).
- Real-time signal thresholds (PRIORITY): Binance L/S 1.4/0.72, News conf â‰¥45, Liq pressure >35, Deribit skew neutral + P/C 1.2/0.82, MarketRegime neutral+volatile, Sanbase flows/whales neutral. More sources contribute more often. IMPROVEMENT_WEIGHTS_AND_TUNING.md, SIGNAL_SOURCES.md updated.
- MandoMinutes TLDR at top (MANDOMINUTES #1): getVibeCheck() returns 1â€“2 line "vibe check" (Risk-off/Risk-on/Mixed + salient phrases from headlines + Themes). Shown at top of printDetailedDashboard() and formatForBriefing(). Phrases: crypto selloff, gains erased, Vitalik ETH, gold up, ETF outflow, regulatory, security. Unit test for empty cache. See newsSentiment.service.ts getVibeCheck(), formatForBriefing().
- NASDAQ 24h + macro news features (THINGS TO DO #2): HIP-3 primary for nasdaqChange (US500, INFOTECH, MAG7, SEMIS, XYZ100) and macroRiskEnvironment (tradFiVsCrypto). 6s timeout. Yahoo Finance ^IXIC fallback when HIP-3 has no index data. See vinceFeatureStore.service.ts collectNewsFeatures(), fetchYahooNasdaqChange().
- News sentiment "erases gains" bug fix (DEBUG LOG FOCUS #1): (1) NEGATIVE_GAINS_PHRASES now returns "bearish" immediately (override; bullish keywords like "gains"/"win" no longer override). (2) normalizeForSentiment() normalizes unicode (NFKC), fancy apostrophes (U+2019 â†’ ASCII), whitespace. (3) news cache: on re-fetch we UPDATE existing items' sentiment (not skip), so logic changes apply on next refresh. (4) Added singular variants (erases gain, gain erased). (5) Unit test: "BTC erases gains since Trump's election win" and "Trump\u2019s" (fancy apostrophe) both â†’ bearish. See newsSentiment.service.ts, newsSentiment.service.test.ts.
- train_models.py improvements for more sources: TP/SL use news_nasdaqChange, news_macro_risk_on/off, signal_hasOICap, news_etfFlow* when present; OPTIONAL_FEATURE_COLUMNS centralized; CANDIDATE_SIGNAL_FACTORS + Binance L/S and OI flush; improvementReportWeights signal_hasOICap and news_etfFlow*; script path from repo root documented (src/plugins/plugin-vince/scripts/train_models.py). progress.txt, scripts/README.md, scripts/FEEDBACK.md updated.
- train_models.py medium-impact + docs: holdout_metrics (AUC/MAE/quantile) in improvement report and training_metadata; sample weights (--recency-decay, --balance-assets); hyperparameter search (--tune-hyperparams); StandardScaler safe columns; improvementReportWeights logs holdout_metrics; validate_ml_improvement prints holdout when metadata found; test_train_models.py 8 tests (holdout assertion + smoke tests for recency-decay and tune-hyperparams). IMPROVEMENT_WEIGHTS_AND_TUNING.md, ML_IMPROVEMENT_PROOF.md, PARAMETER_IMPROVEMENT.md, FEEDBACK.md, generate_synthetic_features.py, README.md, progress.txt updated.

2026-02-04:
- MandoMinutes sentiment for trading bot (completeness): (1) Asset-specific sentiment via getTradingSentiment(asset). (2) Risk-event dampener: block bullish when critical/warning, boost bearish. (3) Price-embedded headlines parsed and merged. (4) Phrase overrides expanded. (5) Category weighting per asset. (6) Confidence calibration (score+headcount blend). (7) Macro vs crypto via category weights. See "MandoMinutes sentiment for trading bot â€” DONE" above.
- MandoMinutes insights: New section "MANDOMINUTES INSIGHTS â€“ IMPROVEMENT IDEAS" with 7 to-dos (TLDR, categorization, per-headline sentiment, top 5 must-know, wire to aggregator, structured themes for RAG, optional UI). North star (mid-term): own news curator to reduce MandoMinutes dependence; do not focus on that yet.
- HL Crypto dashboard: printHlCryptoDashboard exported; startup async block in plugin init fetches getAllCryptoPulse and prints to terminal (HIP-3 style for all HL crypto perps).
- progress.txt: THINGS TO DO #1 â€œUse new market features in the trading algoâ€ marked DONE in paper
  trading (book imbalance filter, SMA20/funding reversal confidence boost, DVOL size cap in
  vincePaperTrading.service.ts). Optional backlog: add book/sma20/funding as factors in signal
  aggregator. Item #5 â€œDVOL/regime in position capâ€ marked DONE (already implemented).
- PRIORITY real-time data: News now contributes when sentiment is neutral. In signalAggregator,
  when getOverallSentiment() returns neutral and confidence >= 40, we add a neutral-direction
  factor â€œNews sentiment neutral (X% confidence)â€ so NewsSentiment appears in â€œSources:â€ more
  often and MandoMinutes cache shows up in aggregator logs (more real-time data visible).
- ML pipeline aligned with new data sources: Feature store hasFundingExtreme includes
  HyperliquidFundingExtreme; hasOICap added for HyperliquidOICap. train_models.py uses
  signal_hasOICap as optional feature and CANDIDATE_SIGNAL_FACTORS for HL OI cap/funding
  extreme. Synthetic data: 10-source pool, derived has* from chosen sources; test record
  includes hasOICap. All 6 test_train_models.py tests pass; full train on 100 synthetic
  records produces ONNX and improvement report with signal_hasOICap in importances.
  After next retrain with real data containing signal_hasOICap, add that input to
  mlInference.service.ts (see ALGO_ML_IMPROVEMENTS.md).
- Dynamic signal-quality feature vector: Inference builds the input from
  training_metadata.signal_quality_feature_names when present (any model size, e.g. 33 features).
  getSignalQualityFeatureValue(name, input) maps each training column to a value; unknown/optional
  features get 0; asset_* dummies use assetTicker. Legacy 16/17/20-dim path kept when no names.
  Tests: mlInference.service.test.ts (6 tests) for dynamic 23/33-feature, legacy 16-dim, asset
  tickers, threshold; fs mock avoids ONNX load and Bun crash.
- WHY THIS TRADE banner: (1) Aggregator now exposes supportingFactors vs conflictingFactors (and
  conflictingCount) so the banner shows "Supporting (N):" and "Conflicting (M):" with correct
  split. (2) Decision line: "SHORT â€” 4 of 7 sources agreed (3 disagreed)." (3) Sources list, ML/Open
  window, then "All factors" with 3 per line. Paper trading receives supportingReasons/conflictingReasons
  and displays them; news sentiment correctly appears under Conflicting when we go SHORT.
- News sentiment classification: (1) NEGATIVE_GAINS_PHRASES so "erases gains", "gains wiped", etc.
  count as bearish. (2) Removed bare "record" from BULLISH; added "record high", "record inflow".
  (3) Bearish keywords: slide, sell off, probes, retreat(s), sunset(s), fell, fall. (4) getOverallSentiment
  logs at debug: weighted bullish/bearish, confidence, and sample headlines (bullish/bearish) for
  investigation. If "BTC erases gains" still shows as bullish sample after deploy, see progress
  "DEBUG LOG FOCUS" (cache re-process, phrase match, unit test).
- progress.txt: New "DEBUG LOG FOCUS" section from LOG_LEVEL=debug: news sentiment verification,
  Service not found spam (HYPERLIQUID_SERVICE, DERIBIT_SERVICE), Sanbase errors, HIP-3 allPerpMetas
  parsing, WHY THIS TRADE layout, and which debug lines to keep.

2026-02-03:
- Risk manager & sizing now treat exposure **by margin**, not by notional. `position.marginUsd`
  is stored on open/partial/restore; `getCurrentExposure()` sums margin; validateTrade() converts
  requested size to margin before enforcing both per-position and total caps. Aggressive preset
  (VINCE_PAPER_AGGRESSIVE=true) therefore allows multiple 40x HYPE positions so long as posted
  margin stays under 60% of portfolio instead of blocking at $40k notional.
- Feature store `collectMarketFeatures()` now fetches market context, Binance depth, DVOL, RSI,
  and ATR **in parallel** with a 6s timeout per source. One slow API no longer stalls the entire
  record, and latency shrank from â€œsum of all awaitsâ€ to â€œslowest callâ€.
- README trimmed to reflect reality: ALOHA day report (PERPS + OPTIONS vibe check) is the primary
  user-facing feature; every other action is treated as supporting/legacy until it advances the ML
  paper bot loop. Progress file updated accordingly.
- Knowledge ingestion loop doubled down: `VINCE_UPLOAD` now routes long-form sources through our
  summarize fork ([IkigaiLabsETH/summarize](https://github.com/IkigaiLabsETH/summarize)), so every
  morning upload (YouTube, podcast, PDF, article) lands in `knowledge/` with clean frontâ€‘matter +
  source URL. Daily habit: feed quality content â†’ run ALOHA informed by fresh research â†’ retrain ML.
- Added `VINCE_CHAT` action. Trigger with `chat: <question>` to get a free-form response that leans
  on `knowledge/` (top 3 matching files) and trench frameworks. Makes it easy to pressure-test ideas
  or recall playbooks without leaving the ALOHA/OPTIONS/PERPS workflow.
- MCP / Eliza Cloud: New section â€œMCP / ELIZA CLOUD â€“ LEVERAGE OPPORTUNITIESâ€ in
  progress.txt with concrete suggestions: ElizaOS Cloud MCP (credits, memory,
  agent interaction), Time & Date (session/tz), Weather (Lifestyle), Crypto Price
  (fallback/trending). Each tied to plugin-vince use case and backlog action.
- Eliza Cloud logs: (1) VinceBinance HTTP 451 â€“ DONE (binance.service.ts: logHttpWarn
  with 5-min cooldown, 451 context, debug for repeats). (2) General log improvements
  for elizacloud.ai remain in PRIORITY (filterable levels, less noise, high-signal summaries).
- Signal sources: startup log [VINCE] ðŸ“¡ Signal sources available: N/8 (...); aggregator
  INFO logs list which sources contributed; DEBUG "tried but no contribution" for
  Binance, NewsSentiment, DeribitIVSkew, MarketRegime; extended to BinanceLiquidations,
  Sanbase, Hyperliquid when they run but donâ€™t add a factor (signalAggregator). See SIGNAL_SOURCES.md.
- ONNX training when 90+ trades: getCompleteRecordCount() on feature store; TRAIN_ONNX_WHEN_READY task runs on schedule (12h), max once per 24h; spawns train_models.py --min-samples 90. On Cloud: Dockerfile has Python ML deps; task uploads models to Supabase Storage (vince-ml-models) and calls reloadModels(); ML service downloads from bucket on startup if local empty. One-time: create bucket vince-ml-models (DEPLOY.md). FEATURE-STORE.md updated.
- README (repo + plugin): Heart of VINCE, signal-source verification, improvement report.
- FEATURE-STORE.md: current prod state (Eliza Cloud, PGLite); ElizaOS tables vs feature
  store; jsonl lives in plugin_vince.paper_bot_features (same DB when Postgres), not
  in core ElizaOS tables. Optional Supabase table for ML queries.
- progress.txt: PRIORITY = improve real-time data for paper algo (leverage all sources);
  deployment note (prod works, still PGLite; next Supabase Postgres); NEXT = migrate
  to Supabase Postgres, then feature store in same DB as ElizaOS tables.
- Supabase: feature-store table (supabase-feature-store-bootstrap.sql), deploy-cloud.sh
  passes SUPABASE_* from .env; Storage bucket vince-ml-models for ML models (train on Cloud,
  download on startup). DEPLOY.md has one-time bucket instructions. See COMPLETED "ML on Eliza Cloud" and "SUPABASE / STORAGE".
- Product feedback: README "Action status (honest take)" added (OPTIONS/PERPS gold; NEWS
  MandoMinutes dependency; MEMES/TREADFI/LIFESTYLE/NFT/INTEL/BOT/UPLOAD). Backlog items
  added for news plugin, MEMES UI bold fix, BOT polish, INTEL redundancy, UPLOAD/knowledge,
  LIFESTYLEâ†’CLAWDBOT, NFT improvements.
- More trades for ML: Aggressive paper-trading preset (VINCE_PAPER_AGGRESSIVE=true â†’ $210
  take profit, max leverage 10) and single-asset focus (VINCE_PAPER_ASSETS=BTC â†’ bot only
  trades BTC) added. Goal: more closed trades â†’ more JSONL in .elizadb/vince-paper-bot/features
  â†’ faster path to 90+ records for ONNX training and better ML script testing. See
  FEATURE-STORE.md â€œAggressive paper tradingâ€ and â€œPaper bot: focus on one assetâ€; .env.example.
- UPLOAD + summarize: VINCE_UPLOAD uses [Ikigai Labs summarize](https://github.com/IkigaiLabsETH/summarize) (our fork of steipete/summarize) via bunx to keep improving the knowledge/ folder: (1) YouTube URLs â†’ transcript + summary (--youtube auto, 120s); (2) single article/PDF URLs â†’ summary (90s). Output is categorized and written to knowledge/<category>/ with source URL in frontmatter. Install: bun install -g @steipete/summarize (or use Ikigai fork from GitHub). Manual test: bun run scripts/test-summarize.ts (e.g. YouTube wGucOorJlvk; --extract validated 66k+ chars in ~3s). README and progress updated.
- Strong-signal confirming override: We need more training data, so more trades (and higher
  leverage where appropriate). Bot was correctly requiring 3 confirming sources for BTC, but
  was blocking strong signals (e.g. 65% strength, 67% confidence) that had only 2 agreeing
  sources. Added MIN_CONFIRMING_WHEN_STRONG=2 in paperTradingDefaults (SIGNAL_THRESHOLDS):
  when strength >= STRONG_STRENGTH (60) and confidence >= HIGH_CONFIDENCE (55), allow 2
  confirming signals instead of 3. Risk manager uses this in validateSignal(); HYPE still
  uses 2 always. Tuning this constant (or the strength/confidence bar) controls trade
  frequency vs. confluence. See vinceRiskManager.service.ts and paperTradingDefaults.ts.
- Aggressive mode â†’ 2 confirming: When VINCE_PAPER_AGGRESSIVE=true, syncFromDynamicConfig()
  now sets minConfirmingSignals=2 (vs 3) so 2 agreeing sources are enough to trade. Fixes
  "Only 2 confirming signals, need 3" blocks when CoinGlass + Binance agree but a third
  source (TopTraders, Sanbase, News, etc.) doesn't. .env.example and progress.txt updated.
- Paper trading aggressive preset â€“ R:R and risk tuning: SL was ATR-based only, often giving
  poor R:R (0.4:1â€“0.5:1). We now set SL from target R:R so max loss = TP / TARGET_RR. Constants
  in paperTradingDefaults: TARGET_RR_AGGRESSIVE=2, TAKE_PROFIT_USD_AGGRESSIVE=280, MIN_SL_PCT_
  AGGRESSIVE=0.35, MAX_SL_PCT_AGGRESSIVE=1.5, MIN_SL_ATR_MULTIPLIER_AGGRESSIVE=0.5. Logic in
  vincePaperTrading.service.ts openTrade(): (1) Aggressive single-TP: SL% = (TP/2)/sizeUsd*100
  clamped to [0.35%, 1.5%]; (2) volatility floor: if ATR available, SL% = max(SL%, 0.5Ã—ATR) then
  cap at 1.5% so we never put the stop inside normal chop; (3) banner shows R:R quality label
  (Good/OK/Weak/Poor) and TP as [$280]. Result: 2:1 R:R, $280 TP, $140 risk; fewer trades
  needed for daily target; no cooldown after loss in aggressive (AGGRESSIVE_RISK_LIMITS.cooldownAfterLossMs=0).
  Trade-opened banner was also cleaned up (fixed-width lines, section labels, spacing).
- Fetch performance (important): (1) Coinglass: all HTTP fetches use AbortSignal.timeout(10s); refreshData() fetches all assets + fear/greed in parallel; fetchCoinGlassData runs OI, funding, Binance L/S in parallel per asset; fetchFreeData runs price, funding, L/S, OI history in one Promise.all. (2) Signal aggregator: added SOURCE_FETCH_TIMEOUT_MS=12s and withTimeout(ms, label, promise) helper; phase-1 async sources (Binance getIntelligence, Deribit getIVSurface, MarketData getEnrichedContext, Sanbase getOnChainContext, Hyperliquid getOptionsPulse + getCrossVenueFunding, Deribit getComprehensiveData + getVolatilityIndex) are fetched in a single Promise.all with per-call timeout; sections 3â€“10 use these pre-fetched results instead of sequential awaits. Phase-2 calls (getTakerVolume, getRSIAdjustment, getOpenWindowInfo) wrapped in withTimeout. getAllSignals() now uses Promise.all(assets.map(getSignal)) so multi-asset aggregation is parallel. Result:   aggregation time bounded by slowest source (~12s max) instead of sum of many sequential calls.
- Scripts and ONNX: (1) Switched ONNX export from skl2onnx to onnxmltools (XGBoost not supported by skl2onnx). (2) Export failed until booster feature names set to f0, f1, â€¦ before convert_xgboost (onnxmltools requires that pattern). (3) All four .onnx models now export when pip3 install onnx onnxmltools. (4) Docs and log messages use pip3 (Mac). (5) generate_synthetic_features.py: --append to extend existing JSONL (timestamps continue), optional larger --count; train_models loads all synthetic_*.jsonl in --data dir.    (6) test_train_models.py: 6 tests pass (generateâ†’train, learning baseline, insufficient data, SL label, multi-asset). (7) requirements.txt: onnxmltools>=1.16.0, no skl2onnx; install note: pip3 install -r requirements.txt.
- progress.txt: This file updated to reflect completed ONNX export (onnxmltools, f0/f1 feature names), synthetic data (--append, --count), and test_train_models.py (6 tests). ML inference service uses session.run({ input: tensor }) and results.output; ONNX models exported by train_models use default onnxmltools input/output names (compatible).
- Eliza Cloud logs: INFO noise reduced. Signal aggregator (per-asset contribution), Coinglass dashboard, Hyperliquid OPTIONS PULSE â†’ debug. Paper trading sizing details (correlation, DVOL, regime, session, streak, ML) â†’ debug. CROSS-VENUE arb stays INFO when arb opportunities. .env.example: tip added for VINCE_PAPER_AGGRESSIVE + VINCE_PAPER_ASSETS=BTC to get more trades for ML.
- ML flow: (1) Similarity "avoid" â†’ hard filter in evaluateAndTrade (skip trade with log). (2) Bandit: store contributingSources on position.metadata at open (from signal.sourceBreakdown); on close call weightBandit.recordOutcome({ sources, profitable, pnlPct }) so source weights learn from actual trade outcomes. (3) ALGO_ML_IMPROVEMENTS.md: #5 and #6 marked done; added "Further ML flow improvements" (labels, calibration, retrain triggers, feature alignment, A/B shadow).
- ML active on Cloud: see "ML on Eliza Cloud" subsection below.
- Leverage more data points: (1) Funding 8h delta: per-asset funding history cache in feature store; delta = current âˆ’ rate from ~8h ago. (2) Price vs SMA20: rolling window of last 20 prices per asset. (3) Order book: Binance futures depth (BTC/ETH/SOL/HYPE) â†’ bookImbalance and bidAskSpread. (4) News: sentimentScore (Â±confidence) and sentimentDirection from getOverallSentiment; hasActiveRiskEvents/highestRiskSeverity from getActiveRiskEvents. (5) Signal avgSentiment from keyword scan over signal.factors; train script uses signal.avgSentiment as signal_avg_sentiment. DATA_LEVERAGE.md and ALGO_ML_IMPROVEMENTS.md updated.

2026-02-02:
- Created progress.txt
- Finetuned START.md to be VINCE/ElizaOS specific
- Verified documentation stack (WHAT, WHY, HOW, CLAUDE, START)
- Plugin has 27 services, 20 actions, 2 providers, 1 evaluator
- ML layer collecting features, awaiting sufficient data for training
- Eliza Cloud deploy (vince2) timed out; 15 credits deducted; documented above
- Documented Supabase usage in progress.txt: POSTGRES_URL = main app DB (conversations, memory, entities, rooms, embeddings). Optional SUPABASE_SERVICE_ROLE_KEY = feature store (vince_paper_bot_features) for ML only. See FEATURE-STORE.md for feature-store setup.

---

## plugin-kelly/progress.txt

================================================================================
PLUGIN-KELLY â€” PROGRESS AND RECOMMENDATIONS
================================================================================

--------------------------------------------------------------------------------
SECTION 1 â€” PROGRESS (what is done)
--------------------------------------------------------------------------------

Plugin structure
  - plugin-kelly with services (KellyLifestyleService), actions (8), evaluators (1), providers (2), tasks (2).
  - Init runs only when character name is Kelly.

Actions
  - KELLY_DAILY_BRIEFING: day-aware picks (health, dining, hotels) from the-good-life and curated-open-schedule.
  - KELLY_RECOMMEND_PLACE: one best pick + one alternative for hotel or restaurant; open today and Landes favorites for SW France.
  - KELLY_RECOMMEND_WINE: one pick + alternative, SW France/Bordeaux default, tasting note and service.
  - KELLY_SURF_FORECAST: Biarritz wave height, period, direction, sea temp; interpretation with surf-ocean voice tint; rain/storm suggests indoor or surfer yoga.
  - KELLY_ITINERARY: multi-day trip plans (hotel, lunch, dinner per day) from the-good-life only.
  - KELLY_RECOMMEND_WORKOUT: one concrete workout (pool, gym, surfer yoga, swim) from pool/gym season and swimming context.
  - KELLY_WEEK_AHEAD: 3â€“5 suggestions for the week (dining, hotels, wellness) from the-good-life and curated schedule.
  - KELLY_SWIMMING_TIPS: tips for daily 1000m, winter pools, swimmer yoga from swimming-daily-winter-pools and yoga-vinyasa-surfers-swimmers.
  - All use the-good-life knowledge and curated-open-schedule.

Providers
  - kellyContext: today's wellness tip, day of week, season (pool/gym), restaurants open today (SW France/Landes), location context, yoga line, winter swimming line (gym season), known preferences from facts.
  - weather: Bordeaux + Biarritz conditions; marine/surf data for Biarritz (wave height, period, direction, sea temp); high-wind caution; cached 30 min; no beach/surf/outdoor dining in rain or storm.

Evaluator
  - lifestyleFeedback: captures lifestyle preferences from conversation for future personalization.

Tasks
  - Daily lifestyle briefing push to channels whose name contains "kelly" or "lifestyle".
  - Optional nudge task (configurable via KELLY_NUDGE_ENABLED, day/hour) to channels with "lifestyle" in name.

Knowledge (the-good-life) used
  - curated-open-schedule: restaurants by day, hotels by season, palace close/reopen (Winter, Palace indoor pools), fitness/health (pool season, gym season).
  - lifestyle: swimming-daily-winter-pools (1000m+ daily, 12x6 pool, heating off Decâ€“Feb, winter palace pools, close/reopen dates), surf-ocean-voice (traits, phrase patterns, benefit-led/craft/no jargon, banned list), wellness-reminders, yoga-practice, daily-yoga-surfers-vinyasa, yoga-vinyasa-surfers-swimmers, creative-practice (painting, photography, music, cinema, Blender+MCP).
  - creative-production (deep knowledge): oil-painting, hasselblad-fuji-capture-one, ableton-push-3, blackmagic-design, capture-one-pro, davinci-resolve, blender-claude-mcp. creative-practice.md has "Deep knowledge:" line per section; kelly.ts LIFESTYLE KNOWLEDGE list includes these docs for technique and workflow tips.

Agent (kelly.ts) prompt work
  - YOUR HUMAN'S CONTEXT: swimming as #1 sport (1000m+ a day, 12x6 pool), tips wanted, pool heating off early Decâ€“end Feb (5/3 wetsuit option), winter indoor swim at Palais/Caudalie; use curated-open-schedule and swimming-daily-winter-pools for exact close/reopen; only suggest those hotels when open.
  - Health & fitness and Fitness coach: reference swimming-daily-winter-pools; primary sport 1000m+ daily; winter = wetsuit or Palais/Caudalie when open.
  - SURF AND OCEAN VOICE: when topic is surf, waves, ocean, rebalance, touch grass â€” use lifestyle/surf-ocean-voice; never name a pro surfer; same facts in that voice.
  - VOICE PRINCIPLES: benefit-led (Apple), confident and craft (Porsche OG), zero AI-slop jargon (explicit banned list in constants/voice.ts).
  - NO FILLER: reference voice principles; banned list expanded with jargon.
  - style.all: first line "Benefit-led (Apple), confident and craft (Porsche OG), zero AI-slop jargon."
  - kelly-decision-rules / kelly-voice-principles: RAG-retrievable for when to use which action, default region, voice rules.

Surf forecast
  - formatInterpretation returns lines in surf-ocean voice (e.g. "Time slows down when it's like this", "There's a flow to it", "put yourself in the right part of it").

Winter swimming
  - kellyContext injects one line in gym season: backyard pool heating off until end Feb; 5/3 wetsuit or indoor swim at Palais (reopens Feb 12) / Caudalie (reopens Feb 5). getPalacePoolReopenDates() in service.

Observability
  - Health check (getKellyHealth) on init: verifies curated-open-schedule present and service returns context; logs warning if missing.
  - Action usage logged at debug level when an action fires (for tuning triggers).

Testing
  - Unit tests: dailyBriefing, recommendPlace, recommendWine, itinerary, recommendWorkout, weekAhead, swimmingTips, surfForecast (validate + handler with mocks); kellyContext (winter swimming line); lifestyle.service; lifestyleFeedback.evaluator; jargon (formatInterpretation-style strings + BANNED_JARGON). Weather provider test with mocked fetch. Integration-style test (kellyContext + one action with mocked useModel). Surf handler output checked for no banned jargon.
  - 10x suite: kelly.voice-quality, kelly.knowledge-grounded (allowlist, never invent, response guard test), kelly.defaults-and-safety, kelly.integration, kelly.ask-agent-routing, kelly.messageExamples-regression, etc.

Completed in plan implementation (Phase 1â€“2, 6 partial)
  - Voice: getVoiceAvoidPromptFragment() added to recommendWorkout, weekAhead, swimmingTips (surfForecast has no useModel).
  - Response guard: recommendPlace loads allowlist from knowledge/the-good-life/allowlist-places.txt; if useModel returns off-allowlist name, callback text replaced with safe fallback. utils/recommendationGuards.ts; test "response guard replaces callback when useModel returns off-allowlist name".
  - Last recommendation cache: recommendPlace and recommendWine set runtime.setCache(kelly:lastRecommend:${roomId}, { type, query, pick }) after callback. kellyContext provider reads and injects "Last time you asked for X, I suggested Y."
  - messageExamples: added 3 in kelly.ts (surf Biarritz, unplug for an hour, red for lamb)â€”benefit-led, no jargon.
  - Inline comments in lifestyle.service.ts for curated schedule structure (Restaurants by Day, Hotels by Season, Fitness/Health, Palace pools).
  - README: response guard note, personalization note, Improvement roadmap subsection.


--------------------------------------------------------------------------------
SECTION 2 â€” RECOMMENDATIONS (improve the plugin further)
--------------------------------------------------------------------------------

Actions
  - KELLY_ITINERARY: optional output format (e.g. calendar-friendly or copy-paste for notes). (Already supported via wantCalendarFormat.)
  - KELLY_SURF_FORECAST: add optional "best window" (e.g. morning vs afternoon) if marine data allows.
  - KELLY_RECOMMEND_EXPERIENCE â€” DONE (wine tasting, spa, cooking class, guided tour; one pick + alternative; NEVER_INVENT_LINE + voice fragment; early exit when context thin; tests: validate + handler + voice).

Providers
  - kellyContext: "last recommended place" â€” DONE (cache kelly:lastRecommend + inject "Last time you asked for X, I suggested Y"). "Last time you loved X" already from facts.
  - weather: add one more location (e.g. Landes or Arcachon) if useful for "beach vs indoor" decisions.
  - Optional "seasonal highlights" provider (e.g. truffle season, oyster season, local events) from a small knowledge file or API.

Service (KellyLifestyleService)
  - Consider reading curated-open-schedule from runtime/knowledge instead of filesystem if RAG or project layout prefers it.

Knowledge / RAG
  - Optional: "seasonal-events-sw-france" (festivals, markets, closures) updated periodically.

Voice and UX
  - Add 2â€“3 more messageExamples in kelly.ts â€” DONE (surf, unplug, red for lamb).
  - In actions that return a single pick, add one optional "why this for you" sentence using benefit-led language.

Evaluator
  - lifestyleFeedback: preferredCuisine and preferredVibe already extracted and stored; provider already injects "You prefer: cuisine/vibe".
  - Store feedback in a structured way (e.g. tags) â€” already have tags, preferredCuisine, preferredVibe in memory content.
  - Consider writing back to a small "user-preferences" knowledge or memory so Kelly can say "you usually prefer quieter spots".

Tasks
  - Daily briefing task: retry with backoff â€” DONE (service null: 3 retries; getCuratedOpenContext null: 2 retries 2s/4s; useModel: 3 retries in generateLifestyleHumanBriefing).
  - Optional "weekly digest" task â€” DONE (KELLY_WEEKLY_DIGEST_ENABLED=false, Sunday at KELLY_WEEKLY_DIGEST_HOUR; push week-ahead summary).
  - Winter swim reminder â€” DONE (KELLY_WINTER_SWIM_REMINDER_ENABLED=false, week of year configurable, push Palais/Caudalie reopen dates).

Observability and ops
  - Logging: daily briefing logs roomCount when pushed; recommendPlace/recommendWine log when fallback used (empty response or response guard). Optional metrics lib deferred.

Documentation
  - Add inline comments in lifestyle.service.ts for the curated schedule parsing logic â€” DONE.

Agent prompt (kelly.ts)
  - Add one RULES line: "When suggesting a hotel for winter swim, state the reopen date so the user can plan."
  - Add messageExample for "when can I swim at the Palais?" with answer "reopens Feb 12" and no stay before that.

Misc
  - KELLY_DISPATCH: documented in README "Optional: plugin-todo and KELLY_DISPATCH" â€” add when action count grows (e.g. 12+ actions); router validates on generic triggers and picks sub-action.
  - plugin-todo: optional for Kelly; add to character if in-app reminders are desired; otherwise discovery suffices.
  - Optional: validate curated-open-schedule structure on init (e.g. required sections exist) and log a warning if not.

================================================================================
End of progress.txt
================================================================================

---

## frontend/progress.txt

# VINCE Frontend Progress Tracker
# Last updated: 2026-02-07
# Otaku-style UI (Vite) integrated and branded as VINCE. Update after feature or fix.

================================================================================
DOCUMENTATION
================================================================================

- **This file (progress.txt):** Progress tracker, known issues, key files, session notes.
  Update it when you ship features or hit new issues.

- **Frontend docs index:** src/frontend/docs/README.md
  - Explains what this file contains (this table) and links to progress.txt.
  - Quick start, reference docs table (architecture, development, troubleshooting,
    character-config, plugin-actions, plugin-context-matcher, x402, evm-wallets, research).

- **Repo-level:** README.md (Chat UI troubleshooting, Â§ Leaderboard page (dashboard hub)),
  DEPLOY.md (bot reply / local messaging), .env.example (MESSAGING),
  tasks/FRONTEND-ALPHA-QUICKSTART.md (how to run and test UI).

================================================================================
OVERVIEW
================================================================================

- **Stack:** React, Vite, Tailwind v4, @elizaos/api-client (local packages/api-client)
- **Run:** `bun start` â†’ API on :3000, Vite dev server on :5173 (or next free port)
- **Use:** Open the URL the script prints (e.g. http://localhost:5173) for the chat UI.
  Port 3000 serves the default ElizaOS dashboard (invite code); use 5173 for this UI.
- **Build:** `bun run build:frontend` â†’ dist/frontend (served by backend when using start:custom-ui)

- **Otaku reference:** Full canonical Otaku project (structure, plugins, deps, scripts):
  https://github.com/elizaOS/otaku/
  In this repo, OTAKU.md is the single doc for Otaku: plugins table (12 + SQL), dependency
  list from Otaku package.json, project structure (managers/, packages/, plugins/), x402/CDP,
  and troubleshooting. Use OTAKU.md when aligning with Otaku behavior or adding Otaku features.

================================================================================
COMPLETED
================================================================================

## Integration âœ…
- Otaku-style frontend brought into repo under src/frontend/
- Vite root: src/frontend; build outDir: ../../dist/frontend
- Proxy: /api and /socket.io â†’ http://localhost:3000 (vite.config.ts)
- Script: scripts/dev-with-vite.js starts backend + Vite, opens browser to correct URL

## Branding âœ…
- "Otaku" â†’ "VINCE" in sidebar, mobile header, index.html
- Default sidebar user label "Guest" when not signed in
- Document title "VINCE - Chat" (App.tsx)

## Guest mode & CDP stubs âœ…
- Guest mode in App.tsx: when VITE_CDP_PROJECT_ID not set, persistent guest userId + default
  userProfile so UI renders without CDP
- Stubs: src/frontend/stubs/ for @coinbase/cdp-react and @coinbase/cdp-hooks (no-op) so build
  works without installing CDP packages; aliased in vite.config.ts

## Chat UI behavior âœ…
- Chat input shown when userId and !isLoadingChannels and (activeChannelId || isNewChatMode);
  no longer requires socket "connected" so input is visible even while connecting
- Fallback copy when chat area not ready: "Click + next to CHAT HISTORY to start a new chat",
  "Loadingâ€¦", or "Sign in or continue as guest to chat"
- "Connectingâ€¦" line shown above chat when socket not yet connected
- Error state: on "API endpoint not found", in-app hint suggests `bun start` and opening the
  printed URL (e.g. http://localhost:5173); Dismiss button to clear

## Dependencies & build âœ…
- streamdown ^2.1.0; wrap-ansi-cjs 8.0.0 override for install
- @tailwindcss/vite in vite.config.ts for Tailwind v4
- Removed tw-animate-css import (package not present)
- Local @elizaos/api-client: packages/api-client, built and aliased in vite.config.ts

## Market Pulse (dashboard data + LLM insight) âœ…
- Backend: plugin-vince route GET /vince/pulse builds a snapshot from all dashboard services
  (Binance, CoinGlass, CoinGecko, Deribit, HIP-3, News, DexScreener, Meteora, Regime, Aggregator)
  and generates a 2â€“3 sentence LLM insight via runtime.useModel(TEXT_SMALL). Returns
  { sections, insight, updatedAt }. See src/plugins/plugin-vince/src/routes/dashboardPulse.ts.
- Pulse sections enriched with TLDRs: DexScreener uses getMarketMood() + hot/ape symbols;
  NFT Floors section (nftFloor.getTLDR()); Paper trades section (open positions one-liner from
  positionManager.getOpenPositions()). Same data as terminal, in digestible form.
- Frontend: lib/pulseApi.ts fetches GET /api/agents/:agentId/plugins/vince/pulse; components/chat/
  market-pulse-card.tsx shows the insight at the top of the chat and optional expandable
  sections. Refetches every 2 minutes when tab is visible.
- Quick actions: row of chips below the pulse (ALOHA, News, Memes, Perps, Options) that send
  the trigger message on click (handleQuickPrompt) so the user gets the full narrative reply
  in chat without typing. chat-interface.tsx.
- Chat interface: MarketPulseCard rendered above connection status and messages when agent.id
  is set. If the server does not pass runtime to the plugin route handler, the API returns
  503 and the card is hidden (no crash).

## Leaderboard page (dashboard hub) âœ…
- Single-page dashboard: Markets (HIP-3, HL Crypto), Memetics, News, Digital Art, More, Trading Bot,
  Knowledge. Data from plugin-vince GET .../vince/leaderboards; no chat required. Per-section timeouts,
  React Query, MarketLeaderboardSection, 503/404 hints. See README Â§ "Leaderboard page (dashboard hub)".

## Docs âœ…
- README (repo root) Â§ "Chat UI: API endpoint not found" troubleshooting
- src/frontend/docs/README.md â€” Frontend docs index and link to this progress file
- src/plugins/plugin-vince/progress.txt: KNOWN ISSUES + session note for this frontend issue
- OTAKU.md: full Otaku reference â€” canonical link (elizaOS/otaku), project structure with
  managers/ (cdp-transaction-manager.ts), packages/ (api-client, server), all 12 plugins;
  dependency table from Otaku package.json (CDP, x402, ElizaOS, DeFi, UI, etc.); plugins
  section with summary table (biconomy, bootstrap, cdp, clanker, coingecko, defillama,
  etherscan, gamification, morpho, polymarket-discovery, relay, web-search + SQL) and
  subsections for Biconomy, Clanker, Gamification, Morpho, Polymarket discovery

================================================================================
KNOWN ISSUES / LIMITATIONS
================================================================================

âš ï¸ "API endpoint not found"
   Backend returns this when a request to /api/* does not match any route (404 catch-all).
   - Ensure `bun start` is running and open the URL it prints (e.g. http://localhost:5173).
   - If GET /api/server/health is OK but chat still fails, check Network tab for the exact
     failing URL (e.g. /api/messaging/servers, /api/messaging/central-servers/.../channels).
   See repo README Troubleshooting and src/plugins/plugin-vince/progress.txt.

âš ï¸ Backend guest/anonymous support
   Full chat (create server/channels, send messages) may require backend support for
   unauthenticated or guest users; not yet verified end-to-end.

âš ï¸ CDP not configured
   When VITE_CDP_PROJECT_ID is not set, CDP wallet and auth use stubs/guest mode. Wallet
   card and sign-in are present but not wired to real CDP.

âš ï¸ Which agent am I talking to?
   The UI chats with the first agent returned by the API (agentsData[0]). In this repo
   src/index.ts registers: 1) VINCE (vinceAgent), 2) Eliza (elizaAgent). So you are
   talking to VINCE, not Otaku (Otaku is in src/agents/otaku.ts but not in the default
   project agents array). The footer disclaimer now shows the actual agent name (e.g.
   "VINCE is in beta...") so it's clear who you're chatting with.

âš ï¸ Agent replies not reaching UI (MESSAGE-BUS "fetch failed")
   If "bot status" (or any message) never shows the agent reply and the UI stays on
   "Analyzing your request", check terminal at startup for:
   - [SERVICE:MESSAGE-BUS] Error fetching agent servers (error=fetch failed)
   - [SERVICE:MESSAGE-BUS] Error fetching channels from server (error=fetch failed)
   The message bus can't get server/channel list, so it can't route the reply back.
   Fix: use local-only messaging (recommended for now): in .env set
   ELIZAOS_USE_LOCAL_MESSAGING=true or leave ELIZAOS_API_KEY unset; restart. See DEPLOY.md
   Â§ "Bot status / agent replies not reaching the UI (local)" and .env.example Â§ MESSAGING.

âš ï¸ Market Pulse card not showing
   The Market Pulse card (LLM insight from dashboard data) fetches GET /api/agents/:agentId/plugins/vince/pulse.
   ElizaOS mounts plugin routes under /api/agents/:id/plugins + route.path â€” so the path must include
   "plugins" (not /api/agents/:id/vince/pulse). 404 "API endpoint not found" usually means wrong path.
   If the server does not pass the agent runtime to the plugin route handler, the API returns 503
   and the card is not rendered. See plugin-vince routes in index.ts.

================================================================================
IN PROGRESS / BACKLOG
================================================================================

- Verify end-to-end chat: send message â†’ agent reply over Socket.IO + messaging API
   (blocked by MESSAGE-BUS fetch when "fetch failed" at startup)
- Optional: Radix sidebar/sheet for mobile, full action-tool layout from Otaku
- Optional: Replace "Otaku is in beta" disclaimer with VINCE or remove
- Optional: Add Otaku plugins/deps from OTAKU.md if full Otaku behavior (wallet, swaps,
   x402, Morpho, Relay, Polymarket, etc.) is desired; this repo may ship a subset.

================================================================================
KEY FILES
================================================================================

- App.tsx                    â€” Main app, guest mode, channels, chat view, error fallbacks
- components/chat/chat-interface.tsx â€” Messages, input, quick prompts, Market Pulse, quick actions (ALOHA, News, Memes, Perps, Options), error display
- components/chat/market-pulse-card.tsx â€” Market Pulse card (LLM insight + expandable sections)
- components/dashboard/leaderboard/page.tsx â€” Leaderboard page (seven tabs: Markets, Memetics, News, Digital Art, More, Trading Bot, Knowledge)
- components/dashboard/leaderboard/market-leaderboard-section.tsx â€” Reusable section (top movers, volume leaders, categories)
- lib/elizaClient.ts         â€” API client (baseUrl: window.location.origin)
- lib/pulseApi.ts            â€” Fetch dashboard pulse (GET /api/agents/:agentId/plugins/vince/pulse)
- lib/leaderboardsApi.ts     â€” Fetch leaderboards (GET .../vince/leaderboards), paper, knowledge, quality
- lib/socketManager.ts       â€” Socket.IO connection and channel join/leave
- vite.config.ts             â€” Proxy, aliases (api-client, CDP stubs), Tailwind
- stubs/cdp-react.tsx, stubs/cdp-hooks.ts â€” No-op CDP when not configured
- docs/README.md             â€” Frontend docs index; docs/architecture.md, development.md, troubleshooting.md
- progress.txt               â€” This file: progress, known issues, session notes
- OTAKU.md (repo root)       â€” Otaku agent: full reference (elizaOS/otaku), plugins, deps, structure

================================================================================
SESSION NOTES
================================================================================

2026-02-05:
- progress.txt created for frontend folder; documents integration, branding, guest mode,
  chat input visibility, "API endpoint not found" handling, and known issues.
- Chat UI error: when error message contains "endpoint not found", show hint to use
  `bun start` and open printed URL (chat-interface.tsx).
- README and src/plugins/plugin-vince/progress.txt updated with Chat UI troubleshooting and KNOWN ISSUES.

2026-02-05 (bot status / agent reply delivery):
- chat-interface.tsx: clear typing indicator on any agent message (not only MULTI_STEP_SUMMARY)
  so single-step actions like VINCE_BOT_STATUS stop showing "Analyzing your request" once reply arrives.
- chat-interface.tsx: filter messageBroadcast by channelId/roomId when present so messages for
  other channels aren't shown; added [Chat] debug logs (New message received / Ignoring message for different channel).
- plugin-log-filter: stopped suppressing [SERVICE:MESSAGE-BUS] "Error sending response to central server"
  so that error is visible when reply delivery fails.
- DEPLOY.md: added Â§ "Bot status / agent replies not reaching the UI (local)" explaining
  MESSAGE-BUS "Error fetching agent servers" and "Error fetching channels from server" (fetch failed)
  and that they prevent the bus from routing replies to the UI.
- progress.txt: added KNOWN ISSUES entry for MESSAGE-BUS fetch failed and link to DEPLOY.md.

2026-02-05 (Otaku reference and OTAKU.md):
- OTAKU.md: set as single reference for Otaku; added canonical link to https://github.com/elizaOS/otaku/
- OTAKU.md: project structure now includes managers/ (cdp-transaction-manager.ts), packages/
  (api-client, server), and full plugins/ list (biconomy, bootstrap, cdp, clanker, coingecko,
  defillama, etherscan, gamification, morpho, polymarket-discovery, relay, web-search).
- OTAKU.md: full dependency table from elizaOS/otaku package.json (CDP, x402, ElizaOS plugins,
  DeFi/protocols, UI, data/backend); x402 and plugins paragraphs updated to reference full list.
- OTAKU.md: Plugins section has summary table (all 12 plugins + SQL) and new subsections for
  Biconomy, Clanker, Gamification, Morpho, Polymarket discovery.
- progress.txt: overview mentions Otaku reference (elizaOS/otaku + OTAKU.md); COMPLETED docs
  and KEY FILES updated; BACKLOG note for optional Otaku plugins/deps from OTAKU.md.

2026-02-05 (which agent + why no reply):
- Clarified which agent: first in list from API = VINCE (src/index.ts has vinceAgent, then elizaAgent).
  Otaku exists in src/agents/otaku.ts but is not in the default project; footer was hardcoded "Otaku".
- chat-interface.tsx: footer disclaimer now uses agent.name so it shows the actual agent (e.g. "VINCE is in beta...").
- progress.txt: added KNOWN ISSUES "Which agent am I talking to?" and kept MESSAGE-BUS as cause for no reply.

2026-02-05 (local-only messaging):
- character.ts: load plugin-elizacloud only when ELIZAOS_API_KEY is set AND ELIZAOS_USE_LOCAL_MESSAGING is not 'true'.
  So local-only: set ELIZAOS_USE_LOCAL_MESSAGING=true or leave ELIZAOS_API_KEY unset; restart.
- .env.example: new Â§ MESSAGING (LOCAL-ONLY VS ELIZA CLOUD); ELIZAOS_USE_LOCAL_MESSAGING=true uncommented (default local-only).
- DEPLOY.md: added recommended local-only step (set ELIZAOS_USE_LOCAL_MESSAGING=true or unset ELIZAOS_API_KEY).
- progress.txt: Fix for "no reply" updated to recommend local-only and reference .env.example Â§ MESSAGING.

2026-02-06 (Market Pulse / dashboard data + LLM insight):
- Backend: plugin-vince GET /vince/pulse route (dashboardPulse.ts) aggregates snapshot from
  Binance, CoinGlass, CoinGecko, Deribit, HIP-3, News, DexScreener, Meteora, Regime, Aggregator;
  generates 2â€“3 sentence LLM insight via useModel(TEXT_SMALL). Route handler expects runtime
  on req.runtime / req.agentRuntime; returns 503 if missing.
- Frontend: pulseApi.ts fetchPulse(agentId); MarketPulseCard shows insight at top of chat,
  optional expandable "N data sections"; refetch every 2 min when tab visible. Rendered in
  chat-interface.tsx above connection status and messages.
- progress.txt: COMPLETED Â§ Market Pulse; KNOWN ISSUES Â§ Market Pulse card not showing; KEY FILES
  updated (market-pulse-card.tsx, pulseApi.ts, docs/README.md, progress.txt).
- Frontend README (docs/README.md): updated with overview, quick start, and link to progress.txt.

2026-02-06 (TLDR data access â€“ pulse enrichment + quick actions):
- Backend (dashboardPulse.ts): DexScreener section now uses getMarketMood() and appends hot/ape
  symbols; added NFT Floors section (nftFloor.getTLDR()); added Paper trades section (open
  positions one-liner from positionManager.getOpenPositions()). Imports VinceNFTFloorService,
  VincePositionManagerService.
- Frontend (chat-interface.tsx): quick-action row below Market Pulse â€“ chips ALOHA, News, Memes,
  Perps, Options that call handleQuickPrompt(message) on click so user gets full narrative in chat.
- progress.txt: Market Pulse Â§ updated with pulse TLDR enrichment and quick actions; docs/README
  updated with quick actions and pulse sections (memes, NFT, paper).

2026-02-07 (Leaderboard page â€“ dashboard hub):
- Leaderboard page is the single-page dashboard for "who's doing best" and market pulse without
  chatting. Seven tabs: Markets (HIP-3 + HL Crypto), Memetics (memes, Meteora, Leftcurve, watchlist),
  News (MandoMinutes), Digital Art (NFT floors, thin-floor), More (Fear & Greed, Options, Binance intel,
  CoinGlass, Deribit skew, cross-venue, OI cap, regime), Trading Bot (paper portfolio), Knowledge
  (base + quality tests + upload). Backend: plugin-vince GET .../vince/leaderboards aggregates all
  sections in parallel with per-section timeouts (safe()) so one slow source doesn't kill the response.
  Frontend: React Query (stale time, refetch), MarketLeaderboardSection (top movers, volume leaders,
  categories grid/stack), 503/404 handling with actionable hints. Rebels ranking (gamification) when
  available. README.md: new Â§ "Leaderboard page (dashboard hub)" with tab table, why we built it,
  and key file paths; added to Contents and Features.
