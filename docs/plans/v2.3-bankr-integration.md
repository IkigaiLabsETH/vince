# v2.3 Plan ‚Äî BANKR Deep Integration

**Status:** Draft for Yves review
**Created:** 2026-02-12

---

## Current State

### plugin-bankr (Agent API)
- **10 actions:** prompt, user info, job status/cancel, sign, submit, order quote/list/status/cancel
- **2 services:** BankrAgentService, BankrOrdersService
- **Capabilities:** Natural language ‚Üí trading jobs, limit/stop/DCA/TWAP orders, signing, tx submission
- ‚ùå No tests

### plugin-bankr-sdk
- **1 action:** prompt with own wallet
- **1 service:** BankrSdkService
- ‚ùå No tests

---

## Why BANKR Matters for VINCE

From `knowledge/sentinel-docs/BANKR.md`:

> "Token pays the agent: compute, execution, subscriptions. Wallet + swap/limit/perps in the product."

BANKR provides:
1. **Execution layer** ‚Äî swap, bridge, limit, stop, DCA, TWAP, perps
2. **Wallet management** ‚Äî cross-chain (Base, Solana, Polygon, Ethereum)
3. **Natural language trading** ‚Äî "swap 1 ETH for USDC" just works
4. **Token economics** ‚Äî $BNKR funds the agent

---

## v2.3 Proposals

### 1. üß™ Tests for BANKR Plugins (Priority: HIGH)

Both plugins have zero tests. Need:

```
plugin-bankr/src/__tests__/
‚îú‚îÄ‚îÄ bankr-agent.service.test.ts    # Mock API, test prompt/job/sign
‚îú‚îÄ‚îÄ bankr-orders.service.test.ts   # Mock API, test quote/list/cancel
‚îú‚îÄ‚îÄ actions.test.ts                # Action validation
‚îî‚îÄ‚îÄ types.test.ts                  # Type validation
```

**Estimated:** 4-6 test files, ~800 lines

---

### 2. üêô Otaku + BANKR Deep Integration (Priority: HIGH)

Otaku is "the only agent with a funded wallet" ‚Äî should use BANKR for everything.

**Current:** Otaku has DeFi capabilities but execution is fragmented
**Proposed:** BANKR becomes Otaku's execution layer

```typescript
// Example: Otaku uses BANKR for all swaps
"Otaku, swap 0.5 ETH for USDC on Base"
‚Üí BANKR_AGENT_PROMPT action
‚Üí Job polling
‚Üí Transaction signed and submitted
‚Üí Confirmation to user
```

**New Otaku actions:**
| Action | Description |
|--------|-------------|
| `OTAKU_SWAP` | Swap via BANKR (wraps BANKR_AGENT_PROMPT) |
| `OTAKU_LIMIT_ORDER` | Set limit order via BANKR |
| `OTAKU_DCA` | Set up DCA via BANKR |
| `OTAKU_POSITIONS` | Show BANKR positions |

---

### 3. üìä Dashboard Integration (Priority: MEDIUM)

Add BANKR to the leaderboard/dashboard:

**New routes:**
- `/vince/bankr/positions` ‚Äî Active positions
- `/vince/bankr/orders` ‚Äî Open orders
- `/vince/bankr/jobs` ‚Äî Recent job history

**Leaderboard tab:** "Bankr" section showing:
- Open orders (limit, stop, DCA, TWAP)
- Recent trades
- Position summary

---

### 4. üì° Provider for VINCE (Priority: MEDIUM)

VINCE should know about BANKR orders as part of "objective data."

**New provider:** `bankrOrdersProvider`
- Fetches open orders on request
- Provides to VINCE ALOHA as context
- "You have 2 open limit orders on BTC"

---

### 5. ‚öñÔ∏è Solus + BANKR (Priority: LOW)

Solus does execution planning (size/skip/watch). BANKR could be the execution layer.

**Flow:**
```
User ‚Üí "I want to long BTC"
‚Üí VINCE gives data context
‚Üí Solus gives size/skip/watch + invalidation
‚Üí Otaku executes via BANKR with stop loss
```

This requires cross-agent coordination (ASK_AGENT) working well.

---

### 6. üîå OpenClaw Skill (Priority: LOW)

Publish VINCE as a skill in [openclaw-skills](https://github.com/BankrBot/openclaw-skills).

Others can install VINCE's capabilities:
- ALOHA action
- Paper bot
- Options analysis

This is more about ecosystem contribution than core functionality.

---

## Recommended v2.3 Scope

**Must have:**
1. ‚úÖ Tests for plugin-bankr (6 test files)
2. ‚úÖ Otaku + BANKR integration (4 new actions)

**Nice to have:**
3. Dashboard BANKR tab
4. VINCE provider for orders

**Future (v2.4+):**
5. Solus + BANKR execution flow
6. OpenClaw skill publication

---

## Estimated Effort

| Item | Files | Lines | Time |
|------|-------|-------|------|
| BANKR tests | 6 | ~800 | 2-3h |
| Otaku integration | 8 | ~1200 | 3-4h |
| Dashboard | 4 | ~600 | 2h |
| Provider | 2 | ~200 | 1h |

**Total v2.3:** ~20 files, ~2800 lines

---

## Questions for Yves

1. Is Otaku the right agent for BANKR execution, or should there be a dedicated "Trader" agent?
2. Should BANKR positions show on main dashboard or separate tab?
3. Priority order ‚Äî tests first, or Otaku integration first?
4. Any specific BANKR features to prioritize (DCA? TWAP? Perps?)?
