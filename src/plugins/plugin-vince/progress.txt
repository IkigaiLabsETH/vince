# VINCE Plugin Progress Tracker
# Last updated: 2026-02-03
# Update this file after every feature completion or session end.

================================================================================
COMPLETED
================================================================================

## Core Architecture ‚úÖ
- Plugin structure (index.ts) with 27 services, 20 actions, 2 providers, 1 evaluator
- Fallback service pattern (external plugins ‚Üí built-in API clients)
- ASCII dashboard on startup with live market prices
- Service source tracking (external vs fallback logging)

## Services - Data Sources (18 services) ‚úÖ
- VinceCoinGlassService - L/S ratio, funding, OI, fear/greed
- VinceCoinGeckoService - Exchange health, liquidity, prices
- VinceMarketDataService - Enriched context (RSI, volatility, regime)
- VinceSignalAggregatorService - Weighted voting across 15+ sources
- VinceTopTradersService - Whale wallet tracking via Hyperliquid
- VinceNewsSentimentService - MandoMinutes sentiment
- VinceDexScreenerService - Hot memes on SOLANA + BASE
- VinceMeteoraService - LP pool discovery for DCA strategy
- VinceNFTFloorService - Floor tracking for ~12 curated collections
- VinceLifestyleService - Daily suggestions based on day of week
- VinceDeribitService - Options IV, Greeks, strikes
- VinceNansenService - Smart money (100 credits)
- VinceSanbaseService - On-chain analytics (1K/mo)
- VinceBinanceService - Top traders, taker flow
- VinceBinanceLiquidationService - Liquidation data
- VinceMarketRegimeService - Trending/ranging/choppy detection
- VinceHIP3Service - Stocks, commodities, indices (34 assets)
- VinceWatchlistService - Early detection watchlist
- VinceAlertService - Price and signal alerts

## Services - Paper Trading Bot (5 services) ‚úÖ
- VincePaperTradingService - Bot orchestration
- VincePositionManagerService - Position tracking
- VinceRiskManagerService - Circuit breakers, daily loss limits
- VinceTradeJournalService - Trade history
- VinceGoalTrackerService - $420/day, $10K/month KPIs

## Services - Self-Improving Architecture (2 services) ‚úÖ
- VinceParameterTunerService - Bayesian parameter optimization
- VinceImprovementJournalService - Structured improvement suggestions

## Services - ML Enhancement Layer (4 services) ‚úÖ
- VinceFeatureStoreService - 40+ features per trade (JSONL)
- VinceWeightBanditService - Thompson Sampling for signal weights
- VinceSignalSimilarityService - k-NN on embeddings
- VinceMLInferenceService - ONNX model inference

## Fallback Services (7 fallbacks) ‚úÖ
- deribit.fallback.ts - Direct Deribit API client
- hyperliquid.fallback.ts - Direct Hyperliquid API client
- opensea.fallback.ts - OpenSea NFT floor fallback
- nansen.fallback.ts - Nansen API fallback
- xai.fallback.ts - XAI/Grok API fallback
- browser.fallback.ts - Browser automation fallback
- puppeteer.browser.ts - Puppeteer-based browser

## Actions - Focus Areas (11 actions) ‚úÖ
- vinceGmAction - Morning briefing
- vinceAlohaAction - Evening summary
- vinceOptionsAction - Covered calls / secured puts
- vincePerpsAction - Long/short signals
- vinceMemesAction - Hot memes scanner
- vinceAirdropsAction - Airdrop tracking
- vinceLifestyleAction - Daily suggestions
- vinceNftFloorAction - NFT floor analysis
- vinceIntelAction - Combined intelligence
- vinceNewsAction - MandoMinutes news
- vinceHIP3Action - TradFi assets (gold, NVDA, SPX)

## Actions - Paper Trading Bot (4 actions) ‚úÖ
- vinceBotStatusAction - Portfolio status
- vinceBotPauseAction - Pause/resume bot
- vinceWhyTradeAction - Explain trade decision
- vinceBotAction - Execute trade

## Actions - Utilities (5 actions) ‚úÖ
- vinceUploadAction - Knowledge upload
- vinceGrokExpertAction - Daily pulse + research suggestions
- vinceMemeDeepDiveAction - Deep dive into specific meme
- vinceWatchlistAction - Manage watchlist
- vinceAlertsAction - Manage alerts

## Providers (2 providers) ‚úÖ
- vinceContextProvider - Aggregated market context
- trenchKnowledgeProvider - RAG for meme trading knowledge

## Evaluators (1 evaluator) ‚úÖ
- tradePerformanceEvaluator - Track signal source performance

## Tasks (1 task) ‚úÖ
- grokExpert.tasks.ts - Daily Grok research task

## Tests ‚úÖ
- Unit tests: actions (4 files), bullBearCase, standalone
- Integration tests: knowledge, hip3-verify, hyperliquid-verify
- E2E tests: realData, knowledgeQuality
- Test utilities: test-utils.ts, knowledge-utils.ts

## Documentation ‚úÖ
- WHAT.md - Purpose and philosophy
- WHY.md - Framework decisions (ElizaOS vs ClawdBot)
- HOW.md - Development guide
- CLAUDE.md - AI operating manual
- START.md - Complete vibe coding manifesto
- README.md - Project overview
- progress.txt - This file

## Configuration ‚úÖ
- dynamicConfig.ts - Tunable parameters
- paperTradingDefaults.ts - Bot defaults
- targetAssets.ts - BTC, ETH, SOL, HYPE + 34 HIP-3
- memes.constants.ts - 50+ tracked meme tokens

## ML Learning State ‚úÖ
- Feature store: 10 feature files collected (2026-02-02)
- Tuned config: Source weights initialized, no adjustments yet
- Improvement journal: Empty (no suggestions yet)

================================================================================
PRIORITY (real-time data for paper trading algo)
================================================================================

üü¢ VINCEBINANCE HTTP 451 ‚Äì (1) DONE. (2) BACKLOG
   (1) DONE: binance.service.ts has logHttpWarn() with 5-min cooldown per endpoint,
   logs 451 with context "Unavailable For Legal Reasons ‚Äì check region/restrictions",
   and uses logger.debug for repeats. No more 451 flood on Eliza Cloud Warnings.
   (2) BACKLOG: Consider skipping Binance in signal aggregator when 451 persists
   (e.g. after N consecutive 451s) for graceful degradation.

üî¥ IMPROVE LOGS FOR ELIZA CLOUD (https://www.elizacloud.ai/)
   Align with Eliza Cloud Container Logs / Metrics UX: filterable levels,
   structured context, less noise, high-signal summaries.
   - Reduce INFO noise: high-frequency pulses (e.g. HyperliquidFallback
     OPTIONS PULSE / CROSS-VENUE) already improved; keep only actionable
     lines at INFO (bias change, arb opportunities).
   - Warnings: Prioritize actionable warnings (e.g. VinceBinance 451 above);
     avoid repetitive same-message warnings (use cooldown + debug for repeats).
   - Structure: Include consistent context (source tag, optional agentId/roomId
     when relevant) so Cloud log search/filter stays useful.
   - Optional: Periodically log a single "dashboard-style" summary (e.g. health
     of data sources, signal source counts) instead of many per-call lines.

üî¥ IMPROVE THE AMOUNT OF REAL-TIME DATA USED FOR THE PAPER TRADING ALGO
   We do not currently leverage all the data sources we already have available.
   - Ensure Binance, MarketRegime, News, Deribit, BinanceLiquidations, Sanbase,
     Hyperliquid, etc. actually contribute factors (see SIGNAL_SOURCES.md).
   - Confirm in logs: at startup [VINCE] üì° Signal sources available: N/8 (...);
     on each aggregation [VinceSignalAggregator] ASSET: N source(s) ‚Üí M factors | Sources: ...
   - Use LOG_LEVEL=debug to see "tried but no contribution" for sources that ran
     but didn‚Äôt meet thresholds (e.g. taker ratio 0.7‚Äì1.3, neutral regime).
     ‚úÖ Extended: BinanceLiquidations, Sanbase, Hyperliquid now also reported in
     triedNoContribution when they run but don‚Äôt add a factor (see signalAggregator).
   - Populate MandoMinutes cache for News; consider relaxing or tuning thresholds
     so more sources contribute more often.

================================================================================
IN PROGRESS
================================================================================

üîÑ Paper trading bot needs more trades to tune Thompson Sampling weights
   ‚Üí Use VINCE_PAPER_AGGRESSIVE=true ($210 TP, 10x) and VINCE_PAPER_ASSETS=BTC (focus BTC first) to get more trades and JSONL for ML.
üîÑ Feature store: collect 90+ complete trades; then ONNX training runs automatically (or run script manually)
üîÑ No improvement suggestions generated yet (needs more trading data)
üîÑ Increase real-time signal factors: get more sources contributing (see PRIORITY above)

================================================================================
MCP / ELIZA CLOUD ‚Äì LEVERAGE OPPORTUNITIES
================================================================================
(Ref: https://www.elizacloud.ai/ MCP catalog ‚Äì serverless, x402 micropayments, SSE/HTTP)

üìã ElizaOS Cloud MCP (v1.0.0 ‚Äì 20 tools) ‚Äì Platform
   Use for: credit management, AI generation, memory, conversations, agent interaction.
   - VINCE relevance: Offload heavy or rate-limited calls (e.g. when Binance 451);
     use Cloud memory/conversations for cross-session context; credit-based usage
     fits cost visibility in logs/deploy (see ‚ÄúImprove logs for Eliza Cloud‚Äù).
   - Action: Evaluate wiring plugin-vince to Cloud MCP for memory/credits when
     deploying to Eliza Cloud; document credit impact of signal aggregator + HL/Binance.

üìã Time & Date MCP (v2.0.0 ‚Äì 5 tools) ‚Äì Utilities
   Use for: current time, timezone conversion, date calculations.
   - VINCE relevance: Session filters (Asia/EU/US overlap) and day-of-week logic
     (Lifestyle, paper trading confidence/size) already use local time; MCP could
     provide canonical ‚Äúmarket open‚Äù / timezone for multi-region users and logs.
   - Action: Optional integration in VinceLifestyleService or signal aggregator
     for time-aware summaries; single source of truth for ‚Äúmarket session‚Äù in logs.

üìã Weather MCP (v2.0.0 ‚Äì 4 tools) ‚Äì Data
   Use for: real-time weather, 16-day forecast, location search (Open-Meteo).
   - VINCE relevance: Lifestyle action (dining, hotel, activities); day-of-week
     suggestions could be weather-aware (e.g. indoor vs outdoor by location).
   - Action: Backlog ‚Äì add Weather MCP as optional Lifestyle enrichment when
     user shares location or for curated ‚Äútoday‚Äôs vibe‚Äù in GM/Aloha.

üìã Crypto Price MCP (v2.0.0 ‚Äì 3 tools) ‚Äì Finance, Free
   Use for: live prices, market cap, trending coins (CoinGecko).
   - VINCE relevance: We already use CoinGecko (VinceCoinGeckoService), HIP-3,
     Hyperliquid. MCP could be fallback or secondary source for ‚Äútrending‚Äù and
     simple price checks without maintaining our own rate limits.
   - Action: Backlog ‚Äì consider Crypto Price MCP as optional fallback for
     meme/trending or for lightweight price context in actions (cost: free).

General: Adopting MCPs can reduce in-plugin API surface and centralize credits/cost
on Eliza Cloud; log MCP tool calls (tool name + credits if x402) for observability.

================================================================================
NEXT / BACKLOG
================================================================================

üìã Migrate prod to Supabase Postgres (POSTGRES_URL); then plugin_vince.paper_bot_features
   lives in same DB as ElizaOS tables (agents, memories, entities, rooms). See FEATURE-STORE.md.
üü¢ Train ONNX when 90+ trades: task TRAIN_ONNX_WHEN_READY registered; runs on schedule (12h), max once per 24h; min-samples 90. Manual: python3 src/plugins/plugin-vince/scripts/train_models.py --data .elizadb/vince-paper-bot/features --output .elizadb/vince-paper-bot/models --min-samples 90
üìã Add more NFT collections to floor tracking
üìã Implement ClawdBot integration for self-healing (see WHY.md)
üìã Add Telegram/Discord notifications for alerts
üìã Add more meme tokens to constants
üìã Implement position sizing based on Kelly Criterion ML model
üìã Add correlation-based position limits
üìã Implement trailing stop-loss logic

Product feedback ‚Üí backlog:
üìã NEWS: Build own news plugin + day report to reduce MandoMinutes dependency (likely X API ~$100/mo).
üìã MEMES: Fix bold styling in UI (quick fix; looks messy). Improve quality over time (not top priority).
üìã BOT: Polish BOT command‚Äîeasier on the eyes, consistent writing style with other actions.
üìã INTEL: Address redundancy with GM / Aloha (merge or differentiate).
üìã UPLOAD / knowledge: Improve upload flow for YouTube, long PDFs, long articles ‚Üí RAG; high priority. Consider dedicated ClawdBot (Moltbot) for this.
üìã LIFESTYLE: More focus on curated local (hotel/restaurant/spa/health/fitness); may migrate to dedicated CLAWDBOT.
üìã NFT: Continue improving floor/tracking; solid MVP, "thin floor" gems from iconic collections still valued.

================================================================================
KNOWN ISSUES / LIMITATIONS
================================================================================

‚ö†Ô∏è XAI/Grok requires API key (not all users will have)
‚ö†Ô∏è Nansen limited to 100 credits/month
‚ö†Ô∏è Sanbase limited to 1K calls/month
‚ö†Ô∏è Paper bot circuit breakers not yet validated with real trading
‚ö†Ô∏è ONNX inference not yet active (needs training data)
‚ö†Ô∏è Eliza Cloud deploy (vince2) timed out after 15 min; 15 credits were deducted
   (see DEPLOYMENT section below)

================================================================================
SUPABASE / STORAGE
================================================================================

We added this clarification so it‚Äôs recorded in progress.txt:

- **POSTGRES_URL (Supabase Postgres)** = main app database. ElizaOS (plugin-sql) uses it for conversation/message storage, agent memory, entities, rooms, relationships, tasks, cache, and knowledge embeddings. So Supabase is used for memory storage of conversations and all other runtime persistence. Required for persistent deploy; without it the app uses local PGLite.
- **SUPABASE_SERVICE_ROLE_KEY / SUPABASE_URL** = optional. Used only for the feature store: paper-bot feature records are upserted to table `vince_paper_bot_features` so you can query 500+ rows for ML training. See FEATURE-STORE.md. Not needed for conversation/memory; that goes through POSTGRES_URL.

================================================================================
DEPLOYMENT (Eliza Cloud)
================================================================================

Current prod:
- Repo pushed to prod with Eliza Cloud; everything works fine.
- Still on PGLite (no POSTGRES_URL yet). Next step: migrate to Supabase Postgres
  so ElizaOS tables (agents, memories, entities, rooms, etc.) and
  plugin_vince.paper_bot_features live in the same Supabase DB. See FEATURE-STORE.md
  for how feature-store jsonl fits with ElizaOS auto-generated tables.

2026-02-02 ‚Äì vince2 deploy timeout (historical):
- Command: elizaos deploy --project-name vince2 (with ANTHROPIC, OPENAI, POSTGRES_URL)
- Credits: 15 deducted when container was created (before health check)
- Container created: 0983fab1-1756-4008-8f7c-c7592aa9c915
- Outcome: CLI reported "Deployment failed" ‚Äì timeout after 15 minutes waiting for
  container to pass health check (/health returning 200). Container may still exist
  or still be deploying.
- Dashboard: https://www.elizacloud.ai/dashboard/containers/0983fab1-1756-4008-8f7c-c7592aa9c915
- Next steps:
  1. Check status: elizaos containers list
  2. View logs: elizaos containers logs --project-name vince2 --tail 200
  3. Ensure app returns 200 OK at /health (required for deploy success)
  4. If deploy never became usable: contact Eliza Cloud support to request
     credit restoration for timed-out deployment (15 credits)

================================================================================
BRANDING, CHANNELS & X (TWITTER)
================================================================================

Frontend / branding (Eliza Cloud):
- The current frontend we have deployed through Eliza Cloud is fine for now but
  is very much NOT on brand with IKIGAI LABS and IKIGAI STUDIO.
- Intent: internal use only. Do NOT promote this deployment; it is for our team
  and community ops, not as a public-facing product.

Channel strategy ‚Äì ‚Äúwhere the community is‚Äù:
- We are super bullish on being where the users are (in our case, the community).
  Hence our focus order:
  1. DISCORD FIRST: Primary channel. Connect Discord servers for AI-powered
     automation (announcements, app updates, rich embeds, scheduled posts).
     Eliza Cloud Settings ‚Üí Discord Bot is the first integration we use.
  2. TELEGRAM SECOND: Connect Telegram bot for automation (channels, auto-reply
     in groups, welcome messages, /help and /about). Available in Eliza Cloud
     Settings ‚Üí Connections (Bot Token from @BotFather).
- Upcoming features (Eliza Cloud) we may or may not use:
  - Bluesky (Coming Soon) ‚Äì cross-platform automation.
  - LinkedIn (Coming Soon) ‚Äì professional content automation.
  - Meta Ads (Coming Soon) ‚Äì Facebook & Instagram campaigns.
  No commitment yet; evaluate when live.

X (Twitter) integration ‚Äì second thoughts:
- X integration feels like the most important channel from a reach perspective,
  but we have serious reservations due to backstory:
  - Most ElizaOS bots got banned on X.
  - The original ElizaOS (ai16z at the time) also got banned; they had to
    rebrand (including due to lawsuit) ‚Äì so the ecosystem has direct experience
    with X enforcement against agent/bot accounts.
- Outcome: We are not prioritizing X integration for now. Internal use and
  community focus (Discord, then Telegram) avoid that risk. Revisit X only if
  we have a clear, low-risk path (e.g. official partnerships or policy change).

================================================================================
SESSION NOTES
================================================================================

2026-02-03:
- MCP / Eliza Cloud: New section ‚ÄúMCP / ELIZA CLOUD ‚Äì LEVERAGE OPPORTUNITIES‚Äù in
  progress.txt with concrete suggestions: ElizaOS Cloud MCP (credits, memory,
  agent interaction), Time & Date (session/tz), Weather (Lifestyle), Crypto Price
  (fallback/trending). Each tied to plugin-vince use case and backlog action.
- Eliza Cloud logs: (1) VinceBinance HTTP 451 ‚Äì DONE (binance.service.ts: logHttpWarn
  with 5-min cooldown, 451 context, debug for repeats). (2) General log improvements
  for elizacloud.ai remain in PRIORITY (filterable levels, less noise, high-signal summaries).
- Signal sources: startup log [VINCE] üì° Signal sources available: N/8 (...); aggregator
  INFO logs list which sources contributed; DEBUG "tried but no contribution" for
  Binance, NewsSentiment, DeribitIVSkew, MarketRegime; extended to BinanceLiquidations,
  Sanbase, Hyperliquid when they run but don‚Äôt add a factor (signalAggregator). See SIGNAL_SOURCES.md.
- ONNX training when 90+ trades: getCompleteRecordCount() on feature store; TRAIN_ONNX_WHEN_READY task runs on schedule (12h), max once per 24h; spawns train_models.py --min-samples 90. FEATURE-STORE.md updated.
- README (repo + plugin): Heart of VINCE, signal-source verification, improvement report.
- FEATURE-STORE.md: current prod state (Eliza Cloud, PGLite); ElizaOS tables vs feature
  store; jsonl lives in plugin_vince.paper_bot_features (same DB when Postgres), not
  in core ElizaOS tables. Optional Supabase table for ML queries.
- progress.txt: PRIORITY = improve real-time data for paper algo (leverage all sources);
  deployment note (prod works, still PGLite; next Supabase Postgres); NEXT = migrate
  to Supabase Postgres, then feature store in same DB as ElizaOS tables.
- Product feedback: README "Action status (honest take)" added (OPTIONS/PERPS gold; NEWS
  MandoMinutes dependency; MEMES/TREADFI/LIFESTYLE/NFT/INTEL/BOT/UPLOAD). Backlog items
  added for news plugin, MEMES UI bold fix, BOT polish, INTEL redundancy, UPLOAD/knowledge,
  LIFESTYLE‚ÜíCLAWDBOT, NFT improvements.
- More trades for ML: Aggressive paper-trading preset (VINCE_PAPER_AGGRESSIVE=true ‚Üí $210
  take profit, max leverage 10) and single-asset focus (VINCE_PAPER_ASSETS=BTC ‚Üí bot only
  trades BTC) added. Goal: more closed trades ‚Üí more JSONL in .elizadb/vince-paper-bot/features
  ‚Üí faster path to 90+ records for ONNX training and better ML script testing. See
  FEATURE-STORE.md ‚ÄúAggressive paper trading‚Äù and ‚ÄúPaper bot: focus on one asset‚Äù; .env.example.

2026-02-02:
- Created progress.txt
- Finetuned START.md to be VINCE/ElizaOS specific
- Verified documentation stack (WHAT, WHY, HOW, CLAUDE, START)
- Plugin has 27 services, 20 actions, 2 providers, 1 evaluator
- ML layer collecting features, awaiting sufficient data for training
- Eliza Cloud deploy (vince2) timed out; 15 credits deducted; documented above
- Documented Supabase usage in progress.txt: POSTGRES_URL = main app DB (conversations, memory, entities, rooms, embeddings). Optional SUPABASE_SERVICE_ROLE_KEY = feature store (vince_paper_bot_features) for ML only. See FEATURE-STORE.md for feature-store setup.
